function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{X3zk:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginPageModule",(function(){return S}));var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("fXoL"),l=n("tk/3"),g=n("XNvx"),u=n("Wdxn"),b=n("VYYF"),f=n("up+p");function d(e,t){1&e&&(c.Pb(0,"div"),c.nc(1,"*Email is required"),c.Ob())}function p(e,t){1&e&&(c.Pb(0,"div"),c.nc(1,"Enter valid *email"),c.Ob())}function m(e,t){if(1&e&&(c.Pb(0,"div",18),c.lc(1,d,2,0,"div",17),c.lc(2,p,2,0,"div",17),c.Ob()),2&e){var n=c.Zb();c.zb(1),c.cc("ngIf",n.f.email.errors.required),c.zb(1),c.cc("ngIf",n.f.email.errors.email)}}function h(e,t){1&e&&(c.Pb(0,"div"),c.nc(1,"*Password is required"),c.Ob())}function v(e,t){if(1&e&&(c.Pb(0,"div",18),c.lc(1,h,2,0,"div",17),c.Ob()),2&e){var n=c.Zb();c.zb(1),c.cc("ngIf",n.f.password.errors.required)}}function P(e,t){1&e&&(c.Nb(0),c.Pb(1,"p",19),c.nc(2," New User? "),c.Pb(3,"u"),c.nc(4,"Signup instead"),c.Ob(),c.Ob(),c.Mb())}var O,w,x,k=[{path:"",component:(O=function(){function e(t,n,o,r,i,a,s,c,l){_classCallCheck(this,e),this.fb=t,this.http=n,this.api=o,this.alert=r,this.statusBar=i,this.router=a,this.googlePlus=s,this.loadingController=c,this.menu=l,this.formValidation=!1,this.signupText=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.menu.swipeGesture(!1),this.LoginForm=this.fb.group({email:["",[r.l.required,r.l.email]],password:["",[r.l.required]]})}},{key:"login",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),this.formValidation=!0,!this.LoginForm.invalid){t.next=2;break}return t.abrupt("return");case 2:return n=this.api.login(e),t.next=5,this.loadingController.create({message:"Please wait..."});case 5:(o=t.sent).present(),n.subscribe((function(e){return Object(s.a)(r,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,o.dismiss();case 3:localStorage.setItem("grocericatoken",e.token),localStorage.setItem("grocericastart","starttoken"),localStorage.setItem("grocericaemail",e.email),localStorage.setItem("user",e.fullName),localStorage.setItem("userDetail",JSON.stringify(e)),this.router.navigate(["/home"]);case 9:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(s.a)(r,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.dismiss();case 2:if("PENDING"!==e.error.message){t.next=7;break}return t.next=5,this.loadingController.create({message:"Please wait..."});case 5:(n=t.sent).present(),this.api.activateAccount(e.error.userId).subscribe((function(e){return Object(s.a)(r,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,n.dismiss();case 3:this.router.navigate(["/activate-otp"]);case 4:case"end":return t.stop()}}),t,this)})))}),(function(e){console.log(e)}));case 7:400===e.status&&this.alert.presentToast("Invalid Details");case 8:case"end":return t.stop()}}),t,this)})))}));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"googleSignIn",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hellloooo"),e.next=3,this.loadingController.create({message:"Please wait..."});case 3:(t=e.sent).present(),this.googlePlus.login({}).then((function(e){console.log(e),t.dismiss(),localStorage.setItem("grocericatoken",e.accessToken),localStorage.setItem("grocericastart","starttoken"),localStorage.setItem("grocericaemail",e.email),localStorage.setItem("user",e.givenName),n.router.navigate(["/home"]),n.userData=e})).catch((function(e){n.userData="Error "+JSON.stringify(e),n.alert.presentToast("Something went wrong")}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"ionViewWillEnter",value:function(){(localStorage.getItem("grocericatoken")||localStorage.getItem("userIdSignUp"))&&(this.signupText=!1)}},{key:"f",get:function(){return this.LoginForm.controls}}]),e}(),O.\u0275fac=function(e){return new(e||O)(c.Jb(r.a),c.Jb(l.a),c.Jb(g.a),c.Jb(u.a),c.Jb(b.a),c.Jb(a.g),c.Jb(f.a),c.Jb(i.N),c.Jb(i.O))},O.\u0275cmp=c.Db({type:O,selectors:[["app-login"]],decls:40,vars:4,consts:[["src","../../assets/login.png","alt","caring mother",2,"background-color","rgb(6, 15, 66)","object-fit","cover"],[1,"background"],["src","../../assets/icon.png","alt","caring mother",1,"login"],[1,"text"],[3,"formGroup","ngSubmit"],[1,"ion-float-left",2,"border-bottom","1px solid #fff"],["lines","none",2,"background-color","transparent"],["position","fixed",2,"color","#fff"],["formControlName","email"],["id","errorStyle","class","invalid-feedback",4,"ngIf"],[1,"ion-float-right",2,"border-bottom","1px solid #fff"],["lines","none"],["type","password","formControlName","password"],[1,"login-ctr"],["type","ngSubmit",1,"des-button","login-btn"],["routerLink","/forgotpassord",2,"text-align","start","color","white","margin-left","20px","font-size","15px"],["routerLink","/home",2,"text-align","end","color","white","margin-right","20px","font-size","15px"],[4,"ngIf"],["id","errorStyle",1,"invalid-feedback"],["routerLink","/signup",1,"signup",2,"color","white","font-size","18px"]],template:function(e,t){1&e&&(c.Kb(0,"img",0),c.Pb(1,"ion-content",1),c.Pb(2,"div"),c.Kb(3,"img",2),c.Pb(4,"p",3),c.nc(5,"Welcome to Connect Bazar, "),c.Kb(6,"br"),c.nc(7,"Let's Sign in"),c.Ob(),c.Pb(8,"ion-card"),c.Pb(9,"ion-grid"),c.Pb(10,"form",4),c.Xb("ngSubmit",(function(){return t.login(t.LoginForm.value)})),c.Pb(11,"ion-row"),c.Pb(12,"ion-col",5),c.Pb(13,"div"),c.Pb(14,"ion-item",6),c.Pb(15,"ion-label",7),c.nc(16,"Email"),c.Ob(),c.Kb(17,"ion-input",8),c.Ob(),c.lc(18,m,3,2,"div",9),c.Ob(),c.Ob(),c.Ob(),c.Pb(19,"ion-row"),c.Pb(20,"ion-col",10),c.Pb(21,"div"),c.Pb(22,"ion-item",11),c.Pb(23,"ion-label",7),c.nc(24," Password"),c.Ob(),c.Kb(25,"ion-input",12),c.Ob(),c.lc(26,v,2,1,"div",9),c.Ob(),c.Ob(),c.Ob(),c.Pb(27,"div",13),c.Pb(28,"ion-button",14),c.nc(29," Login"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(30,"ion-row"),c.Pb(31,"ion-col"),c.Pb(32,"p",15),c.Pb(33,"u"),c.nc(34,"Forgot password?"),c.Ob(),c.Ob(),c.Ob(),c.Pb(35,"ion-col"),c.Pb(36,"p",16),c.Pb(37,"u"),c.nc(38," Skip for now >> "),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.lc(39,P,5,0,"ng-container",17),c.Ob()),2&e&&(c.zb(10),c.cc("formGroup",t.LoginForm),c.zb(8),c.cc("ngIf",t.formValidation&&t.f.email.errors),c.zb(8),c.cc("ngIf",t.formValidation&&t.f.password.errors),c.zb(13),c.cc("ngIf",t.signupText))},directives:[i.j,i.g,i.n,r.m,r.i,r.c,i.B,i.i,i.r,i.s,i.q,i.U,r.h,r.b,o.k,i.e,i.S,a.h],styles:[".background[_ngcontent-%COMP%]{--background:#060f42;margin-top:200px!important}ion-item[_ngcontent-%COMP%]{--background:transparent!important}ion-grid[_ngcontent-%COMP%]{margin-top:40px}ion-card[_ngcontent-%COMP%]{align-items:center;height:260px;background:hsla(0,0%,76.9%,.12);border-radius:15px}ion-icon[_ngcontent-%COMP%]{color:#000;font-size:30px}ion-input[_ngcontent-%COMP%]{color:#fff;margin-left:15px}ion-button[_ngcontent-%COMP%]{width:100%;margin-top:15px;padding-left:5%;padding-right:5%}p[_ngcontent-%COMP%]{color:#000;text-align:center;font-size:14px}.login[_ngcontent-%COMP%]{border-radius:15px;height:100px;margin-top:24px;margin-left:auto;margin-right:auto;display:block}.text[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:400;font-size:30px;line-height:35px;color:#fff}ion-toolbar[_ngcontent-%COMP%]{--background:transparent;--ion-color-base:transparent!important}u[_ngcontent-%COMP%]{-webkit-text-decoration-color:#fff;text-decoration-color:#fff}@media only screen and (max-width:360px){.text[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:400;font-size:24px;color:#fff}}.item-highlight[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3}"]}),O)}],C=((w=function e(){_classCallCheck(this,e)}).\u0275mod=c.Hb({type:w}),w.\u0275inj=c.Gb({factory:function(e){return new(e||w)},imports:[[a.i.forChild(k)],a.i]}),w),y=n("w1Tr"),S=((x=function e(){_classCallCheck(this,e)}).\u0275mod=c.Hb({type:x}),x.\u0275inj=c.Gb({factory:function(e){return new(e||x)},providers:[g.a,f.a],imports:[[o.b,r.d,r.k,i.L,l.b,y.a,C]]}),x)}}]);