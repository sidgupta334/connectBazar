{"version":3,"sources":["./src/app/forgotpassord/forgotpassord.page.html","./src/app/forgotpassord/forgotpassord-routing.module.ts","./src/app/forgotpassord/forgotpassord.module.ts","./src/app/forgotpassord/forgotpassord.page.scss","./src/app/forgotpassord/forgotpassord.page.ts"],"names":[],"mappings":"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","file":"forgotpassord-forgotpassord-module-es2015.js","sourcesContent":["export default \"\\n<ion-content class=\\\"background\\\"  style=\\\"background-color: rgb(6, 15, 66);\\\">\\n\\n\\n\\n  <ng-container *ngIf=\\\"forgotPassword; then forgotEmailForm\\\"></ng-container>\\n  <ng-container *ngIf=\\\"otpPost; then otpEnterForm\\\"></ng-container>\\n\\n <ng-template #forgotEmailForm> \\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-icon name=\\\"arrow-back\\\" routerLink=\\\"/login\\\"></ion-icon>\\n     </ion-buttons>\\n</ion-toolbar>\\n    <ion-grid>\\n      <p class=\\\"text\\\">Forgot your password? <br> Let's recover it</p>\\n      <ion-card>\\n      <form class=\\\"ion-padding\\\" [formGroup]=\\\"EmailForm\\\" (ngSubmit)=\\\"getEmail(EmailForm.value)\\\">\\n\\n        <ion-row >\\n          <ion-col class=\\\"ion-float-right\\\">\\n            <div>\\n              <ion-item  style=\\\"background-color: transparent;\\\">\\n                <ion-label position=\\\"fixed\\\" style=\\\"color: #919090;\\\">\\n                  Email \\n                </ion-label>\\n                <ion-input  type=\\\"text\\\" formControlName=\\\"Email\\\" style=\\\"color: #fff;margin-left: -15px;\\\">  </ion-input>\\n              </ion-item>\\n              <div id=\\\"errorStyle\\\" *ngIf=\\\"checkValid && f.Email.errors\\\" class=\\\"invalid-feedback\\\">\\n                <div *ngIf=\\\"f.Email.errors.required\\\">*Email is required</div>\\n                <div *ngIf=\\\"f.Email.errors.email\\\" >Enter valid *email</div>\\n            </div>\\n            </div>\\n          </ion-col>\\n\\n          <button class=\\\"button-submit\\\"  color=\\\"primary\\\" type=\\\"ngSubmit\\\">\\n            Send OTP</button>\\n       \\n        </ion-row>\\n      </form>\\n    </ion-card>\\n    </ion-grid>\\n  </ng-template>\\n\\n\\n  <ng-template #otpEnterForm> \\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\"  (click)=\\\"route()\\\">\\n        <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n       </ion-buttons>\\n  </ion-toolbar>\\n  <ion-grid>\\n    <p class=\\\"text\\\">Forgot your password? <br> Let's recover it</p>\\n    <ion-card>\\n    <form class=\\\"ion-padding\\\" [formGroup]=\\\"OtpForm\\\" (ngSubmit)=\\\"postOtp(OtpForm.value)\\\">\\n      <ion-row>\\n        <ion-col class=\\\"ion-float-right\\\">\\n          <div>\\n            <ion-item class=\\\"input-password\\\">\\n              <ion-label position=\\\"fixed\\\" style=\\\"color: #919090;\\\">\\n                New Password</ion-label>\\n              <ion-input style=\\\"color: #fff;\\\" type=\\\"password\\\"  formControlName=\\\"newPassword\\\">\\n              </ion-input>\\n            </ion-item>\\n            <div id=\\\"errorStyle\\\" *ngIf=\\\"otpFormValid && frmValid.newPassword.errors\\\" class=\\\"invalid-feedback\\\">\\n              <div *ngIf=\\\"frmValid.newPassword.errors.required\\\">*Password is required</div>\\n          </div>\\n            <ion-item class=\\\"input-password\\\">\\n              <ion-label position=\\\"fixed\\\" style=\\\"color: #919090;\\\">\\n                OTP</ion-label>\\n              <ion-input style=\\\"color: #fff;\\\" type=\\\"text\\\"  formControlName=\\\"otp\\\">\\n              </ion-input>\\n            </ion-item>\\n            <div id=\\\"errorStyle\\\" *ngIf=\\\"otpFormValid && frmValid.otp.errors\\\" class=\\\"invalid-feedback\\\">\\n              <div *ngIf=\\\"frmValid.otp.errors.required\\\">*Otp is required</div>\\n          \\n          </div>\\n          </div>\\n        </ion-col>\\n\\n        <button  class=\\\"button-submit\\\" color=\\\"primary\\\"color=\\\"primary\\\"  type=\\\"ngSubmit\\\">\\n          Update Password</button>\\n \\n      </ion-row>\\n    </form>\\n    </ion-card>\\n  </ion-grid>\\n  </ng-template>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ForgotpassordPage } from './forgotpassord.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotpassordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ForgotpassordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n\nimport { IonicModule } from '@ionic/angular';\nimport { HttpClientModule } from \"@angular/common/http\";\nimport { ForgotpassordPageRoutingModule } from './forgotpassord-routing.module';\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { ForgotpassordPage } from './forgotpassord.page';\nimport { LoginService } from '../login/login.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    IonicModule,\n    ForgotpassordPageRoutingModule\n  ],\n  providers: [LoginService\n\n  ],\n  declarations: [ForgotpassordPage]\n})\nexport class ForgotpassordPageModule {}\n","export default \".text {\\n  color: #a4a4a4;\\n  text-align: center;\\n  font-size: 30px;\\n  margin-top: 44%;\\n}\\n\\n.input-password ion-label {\\n  flex: 0 0 130px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZm9yZ290cGFzc29yZC9EOlxcUHJvamVjdHNcXGNvbm5lY3RCYXphclxcRGVsaXZlcnlBcHBcXHNha2lic2lkZGlxdWktY2FyaW5nbW90aGVyX2RlbGl2ZXJ5LWQxODhkNzIyZWRiMy9zcmNcXGFwcFxcZm9yZ290cGFzc29yZFxcZm9yZ290cGFzc29yZC5wYWdlLnNjc3MiLCJzcmMvYXBwL2ZvcmdvdHBhc3NvcmQvZm9yZ290cGFzc29yZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ0FGOztBREtFO0VBQ0UsZUFBQTtBQ0ZKIiwiZmlsZSI6InNyYy9hcHAvZm9yZ290cGFzc29yZC9mb3Jnb3RwYXNzb3JkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnRleHQge1xuICBjb2xvcjogI2E0YTRhNDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDMwcHg7XG4gIG1hcmdpbi10b3A6IDQ0JTtcbn1cblxuLmlucHV0LXBhc3N3b3JkIHtcblxuICBpb24tbGFiZWwge1xuICAgIGZsZXg6IDAgMCAxMzBweDtcbiAgfVxuXG59XG4iLCIudGV4dCB7XG4gIGNvbG9yOiAjYTRhNGE0O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgbWFyZ2luLXRvcDogNDQlO1xufVxuXG4uaW5wdXQtcGFzc3dvcmQgaW9uLWxhYmVsIHtcbiAgZmxleDogMCAwIDEzMHB4O1xufSJdfQ== */\";","import { Component, OnInit } from \"@angular/core\";\nimport { StatusBar } from \"@ionic-native/status-bar/ngx\";\n\nimport {\n  FormControl,\n  Validators,\n  FormBuilder,\n  FormGroup,\n} from \"@angular/forms\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { LoginService } from \"../login/login.service\";\nimport { error } from \"protractor\";\nimport { CommomService } from \"../commom.service\";\nimport { LoadingController, AlertController } from \"@ionic/angular\";\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: \"app-forgotpassord\",\n  templateUrl: \"./forgotpassord.page.html\",\n  styleUrls: [\"./forgotpassord.page.scss\"],\n})\nexport class ForgotpassordPage implements OnInit {\n  EmailForm: FormGroup;\n  OtpForm: FormGroup;\n  checkValid = false;\n  otpFormValid = false;\n\n\n  otpPost = false;\n  forgotPassword = true;\n\n  constructor(\n    private fb: FormBuilder,\n    private http: HttpClient,\n    private api: LoginService,\n    private loadingController: LoadingController,\n    public alertController: AlertController,\n    private router: Router,\n    private alert: CommomService\n  ) {}\n\n  ngOnInit() {\n    this.EmailForm = this.fb.group({\n      Email: [\"\", [Validators.required, Validators.email]],\n    });\n\n    this.OtpForm = this.fb.group({\n      otp: [\"\", [Validators.required]],\n      newPassword: [\"\", [Validators.required]],\n    });\n  }\n\n  // getter method to access form fields\n  get f() {\n    return this.EmailForm.controls;\n  }\n\n  // getter method to access form fields\n  get frmValid() {\n    return this.OtpForm.controls;\n  }\n\n  route() {\n    this.otpPost = false;\n    this.forgotPassword = true;\n  }\n\n  async getEmail(value) {\n    this.checkValid = true;\n    if (this.EmailForm.invalid) {\n      return;\n    }\n    const loading = await this.loadingController.create({\n      message: \"Please wait...\",\n    });\n    loading.present();\n\n    const p = this.api.forgotPassword(value.Email);\n    p.subscribe(\n      (res) => {\n        localStorage.setItem('grocericaforgotEmail', value.Email);\n        loading.dismiss();\n        this.alert.presentToast(\"Otp Sent Successfully to your email\");\n        this.forgotPassword = false;\n        this.otpPost = true;\n        this.otpFormValid = false;\n\n      },\n      (error) => {\n        loading.dismiss();\n        if (error.error.message === \"User not found\" && error.status === 400) {\n          this.alert.presentToast(error.error.message);\n        }\n        if (error.status === 500) {\n          this.alert.presentToast(\"Something went wrong\");\n        }\n      }\n    );\n  }\n\n  // =======form method for otp validation==========//\n  async postOtp(value) {\n    this.otpFormValid = true;\n    if (this.OtpForm.invalid) {\n      return;\n    }\n    value.email=localStorage.getItem('grocericaforgotEmail');\n    const loading = await this.loadingController.create({\n      message: \"Please wait...\",\n    });\n    loading.present();\n\n    const p = this.api.postOtp(value);\n    p.subscribe((res) => {\n      loading.dismiss();\n      this.presentAlertConfirm(res.message);\n    },\n    (error) => {\n      loading.dismiss();\n      if (error.error.message === \"User not found\" && error.status === 400) {\n        this.alert.presentToast(error.error.message);\n      }\n      if (error.error.message === \"OTP doesn't matched\" && error.status === 500) {\n        this.alert.presentToast(error.error.message);\n      }\n\n\n    });\n  }\n\n  async presentAlertConfirm(message) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: message,\n      message: 'Login to your Account',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n          text: 'Okay',\n          handler: () => {\n            this.router.navigate(['login']);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}