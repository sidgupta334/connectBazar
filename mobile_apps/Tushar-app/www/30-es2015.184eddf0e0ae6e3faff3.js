(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{oFOw:function(e,n,t){"use strict";t.r(n),t.d(n,"ViewOrderPageModule",(function(){return C}));var o=t("ofXK"),i=t("3Pt+"),r=t("TEn/"),c=t("tyNb"),l=t("mrSG"),d=t("fXoL"),b=t("Wdxn"),a=t("6zcV"),s=t("Bl/W"),u=t("Nagw");function O(e,n){if(1&e&&(d.Pb(0,"ion-row",20),d.Pb(1,"ion-col",21),d.Kb(2,"img",22),d.Ob(),d.Pb(3,"ion-col",9),d.Pb(4,"p"),d.nc(5),d.Pb(6,"span"),d.nc(7),d.Ob(),d.Ob(),d.Pb(8,"div",23),d.Pb(9,"p"),d.Pb(10,"span"),d.Pb(11,"del"),d.nc(12),d.Ob(),d.Ob(),d.Pb(13,"span",24),d.nc(14),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(15,"ion-col"),d.Pb(16,"p",25),d.nc(17),d.Ob(),d.Ob(),d.Ob()),2&e){const e=n.$implicit;d.zb(2),d.cc("src",e.url,d.jc),d.zb(3),d.pc("",e.productName," "),d.zb(2),d.pc("(",e.brand,") "),d.zb(5),d.pc("\u20b9",e.oldPrice,""),d.zb(2),d.qc(" \u20b9 ",e.newPrice," \xd7 ",e.quantity," "),d.zb(3),d.pc("\u20b9 ",e.total,"")}}function p(e,n){if(1&e){const e=d.Qb();d.Nb(0),d.Pb(1,"ion-button",26),d.Xb("click",(function(){d.ic(e);const n=d.Zb(2);return n.review(n.viewOrder)})),d.nc(2,"RATE YOUR ORDER"),d.Ob(),d.Mb()}}function g(e,n){if(1&e&&(d.Nb(0),d.lc(1,p,3,0,"ng-container",14),d.Mb()),2&e){const e=d.Zb();d.zb(1),d.cc("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}function f(e,n){if(1&e){const e=d.Qb();d.Nb(0),d.Pb(1,"ion-button",26),d.Xb("click",(function(){d.ic(e);const n=d.Zb(2);return n.viewFeedback(n.viewOrder)})),d.nc(2,"View Feedback"),d.Ob(),d.Mb()}}function w(e,n){if(1&e&&(d.Nb(0),d.lc(1,f,3,0,"ng-container",14),d.Mb()),2&e){const e=d.Zb();d.zb(1),d.cc("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}function v(e,n){if(1&e&&(d.Nb(0),d.Pb(1,"ion-col",9),d.nc(2,"Status"),d.Ob(),d.Pb(3,"ion-col",10),d.nc(4),d.Ob(),d.Mb()),2&e){const e=d.Zb();d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function h(e,n){if(1&e&&(d.Nb(0),d.Pb(1,"ion-col",9),d.nc(2,"Status"),d.Ob(),d.Pb(3,"ion-col",27),d.nc(4),d.Ob(),d.Mb()),2&e){const e=d.Zb();d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function P(e,n){if(1&e&&(d.Nb(0),d.Pb(1,"ion-col",9),d.nc(2,"Status"),d.Ob(),d.Pb(3,"ion-col",11),d.nc(4),d.Ob(),d.Mb()),2&e){const e=d.Zb();d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function m(e,n){if(1&e){const e=d.Qb();d.Nb(0),d.Pb(1,"button",28),d.Xb("click",(function(){d.ic(e);const n=d.Zb();return n.cancelOrder(n.viewOrder)})),d.nc(2," Cancel Order"),d.Ob(),d.Mb()}}const x=[{path:"",component:(()=>{class e{constructor(e,n,t,o,i,r,c){this.common=e,this.orderApi=n,this.api=t,this.Activatedroute=o,this.cartapi=i,this.loadingController=r,this.router=c,this.viewRate=!0,this.totalvalue=0}openSearchModal(){this.common.openModal()}ngOnInit(){console.log(" view order"),this.cartapi.viewCart().subscribe(e=>{console.log("responnnse",e),this.quantity=e.netQuantity})}particularProductAccess(){"COMPLETED"===this.viewOrder.orderStatus&&(console.log("Hellll"),this.getReview(this.viewOrder.orderId));for(let e=0;e<this.viewOrder.products.length;e++)this.viewOrder.products[e].total=this.viewOrder.products[e].newPrice*this.viewOrder.products[e].quantity,this.totalvalue=this.viewOrder.products[e].total+this.totalvalue;console.log("total order value"+this.totalvalue)}cancelOrder(e){return Object(l.a)(this,void 0,void 0,(function*(){console.log(e);const n=yield this.loadingController.create({message:"Please wait..."});n.present(),this.orderApi.cancelOrder(e).subscribe(e=>Object(l.a)(this,void 0,void 0,(function*(){console.log(e),n.dismiss(),localStorage.setItem("grocericaViewCart",JSON.stringify(e)),this.common.presentToast("Your order is successfully cancelled"),this.common.scheduleNotification(e),this.ngOnInit()})),e=>{n.dismiss(),this.common.presentToast("Something Went Wrong")})}))}review(e){console.log(e),localStorage.setItem("reviewProduct",JSON.stringify(e)),this.router.navigate(["/rating"])}getReview(e){console.log("review"),this.api.getFeedback(e).subscribe(e=>{console.log(e),this.feedback=e,this.viewRate=!1})}viewFeedback(e){const n=Object.assign(this.feedback,e);console.log(n),localStorage.setItem("viewFeedback",JSON.stringify(n)),this.router.navigate(["/feedback"])}ionViewWillEnter(){this.Activatedroute.paramMap.subscribe(e=>{this.id=e.get("id"),console.log(this.id)}),this.orderApi.particularOrder(this.id).subscribe(e=>{console.log("particular product",e),this.viewOrder=e,this.viewOrder.discountReceived=this.viewOrder.oldTotal-(this.viewOrder.finalTotal+this.viewOrder.discountApplied),this.viewOrder.netAmount=this.viewOrder.oldTotal-this.viewOrder.discountReceived,this.viewOrder&&this.particularProductAccess()})}calculateDiscountReceived(e){return e.oldTotal-(e.finalTotal+e.discountApplied)}}return e.\u0275fac=function(n){return new(n||e)(d.Jb(b.a),d.Jb(a.a),d.Jb(s.a),d.Jb(c.a),d.Jb(u.a),d.Jb(r.N),d.Jb(c.g))},e.\u0275cmp=d.Db({type:e,selectors:[["app-view-order"]],decls:63,vars:17,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/all-order"],[2,"font-size","20px"],[1,"appBackground"],[1,"order-row"],[1,"order-col"],[2,"font-weight","bold"],[1,"order-title"],["size","6"],["size","6","id","order-value"],["size","6","id","order-value",2,"color","#1FCA1C"],[1,"order-item"],["style","border-bottom: 1px solid aquamarine;",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"background-color","rgb(6, 15, 66)"],["id","text-color",1,"order-total"],["size","6","id","order-value",2,"color","#cabe1c"],["size","6",2,"font-weight","bold"],["size","6","id","order-value",2,"font-weight","bold"],[2,"border-bottom","1px solid aquamarine"],["size","3"],["alt","grocrica",3,"src"],[2,"margin-top","25px"],[2,"margin-left","15px"],[2,"text-align","end","padding-right","10px"],[2,"margin-right","560px",3,"click"],["size","6","id","order-value",2,"color","red"],[1,"button","des-button",3,"click"]],template:function(e,n){1&e&&(d.Pb(0,"ion-header"),d.Pb(1,"ion-toolbar",0),d.Pb(2,"ion-buttons",1),d.Kb(3,"ion-icon",2),d.Ob(),d.Pb(4,"ion-title",3),d.nc(5,"VIEW ORDER"),d.Ob(),d.Ob(),d.Ob(),d.Pb(6,"ion-content",4),d.Pb(7,"ion-grid"),d.Pb(8,"ion-row",5),d.Pb(9,"ion-col",6),d.nc(10,"Order ID: "),d.Pb(11,"span",7),d.nc(12),d.Ob(),d.Ob(),d.Ob(),d.Pb(13,"ion-row",8),d.Pb(14,"ion-col",9),d.nc(15,"Order Date"),d.Ob(),d.Pb(16,"ion-col",10),d.nc(17),d.Ob(),d.Pb(18,"ion-col",9),d.nc(19,"Delivery Date"),d.Ob(),d.Pb(20,"ion-col",10),d.nc(21),d.Ob(),d.Pb(22,"ion-col",9),d.nc(23,"Order Status"),d.Ob(),d.Pb(24,"ion-col",11),d.nc(25),d.Ob(),d.Pb(26,"ion-col",9),d.nc(27,"Item Count"),d.Ob(),d.Pb(28,"ion-col",10),d.nc(29),d.Ob(),d.Ob(),d.Ob(),d.Pb(30,"ion-row",12),d.Pb(31,"ion-col",6),d.nc(32,"ORDER ITEMS :"),d.Ob(),d.Ob(),d.Pb(33,"ion-card"),d.lc(34,O,18,7,"ion-row",13),d.Ob(),d.lc(35,g,2,1,"ng-container",14),d.lc(36,w,2,1,"ng-container",14),d.Ob(),d.Pb(37,"div",15),d.Pb(38,"ion-row",16),d.lc(39,v,5,1,"ng-container",14),d.lc(40,h,5,1,"ng-container",14),d.lc(41,P,5,1,"ng-container",14),d.Pb(42,"ion-col",9),d.nc(43,"Total Amount"),d.Ob(),d.Pb(44,"ion-col",10),d.nc(45),d.Ob(),d.Pb(46,"ion-col",9),d.nc(47,"Discount received from us"),d.Ob(),d.Pb(48,"ion-col",17),d.nc(49),d.Ob(),d.Pb(50,"ion-col",9),d.nc(51,"Net Amount"),d.Ob(),d.Pb(52,"ion-col",10),d.nc(53),d.Ob(),d.Pb(54,"ion-col",9),d.nc(55,"Discount Applied"),d.Ob(),d.Pb(56,"ion-col",11),d.nc(57),d.Ob(),d.Pb(58,"ion-col",18),d.nc(59,"Final Amount"),d.Ob(),d.Pb(60,"ion-col",19),d.nc(61),d.Ob(),d.Ob(),d.lc(62,m,3,0,"ng-container",14),d.Ob()),2&e&&(d.zb(12),d.oc(null==n.viewOrder?null:n.viewOrder.orderId),d.zb(5),d.oc(null==n.viewOrder?null:n.viewOrder.orderDate),d.zb(4),d.oc(null==n.viewOrder?null:n.viewOrder.deliveryDate),d.zb(4),d.oc(null==n.viewOrder?null:n.viewOrder.orderStatus),d.zb(4),d.oc(null==n.viewOrder?null:n.viewOrder.netQuantity),d.zb(5),d.cc("ngForOf",null==n.viewOrder?null:n.viewOrder.products),d.zb(1),d.cc("ngIf",1==n.viewRate),d.zb(1),d.cc("ngIf",0==n.viewRate),d.zb(3),d.cc("ngIf","CONFIRMED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),d.zb(1),d.cc("ngIf","CANCELLED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),d.zb(1),d.cc("ngIf","COMPLETED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),d.zb(4),d.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.oldTotal,""),d.zb(4),d.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.discountReceived,""),d.zb(4),d.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.netAmount,""),d.zb(4),d.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.discountApplied,""),d.zb(4),d.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.finalTotal,""),d.zb(1),d.cc("ngIf","ORDERED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)))},directives:[r.o,r.K,r.f,r.p,r.S,c.h,r.J,r.j,r.n,r.B,r.i,r.g,o.j,o.k,r.e],styles:["ion-title[_ngcontent-%COMP%]{font-style:normal;font-weight:bolder;font-size:28px;line-height:30px;text-align:left;position:absolute;bottom:9px}.order-row[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;color:#fff}.order-row[_ngcontent-%COMP%]{text-align:center;padding-right:10px;padding-left:10px;font-weight:700;margin-top:10px;padding-bottom:10px;border-bottom:2px solid #7fffd4}.order-col[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:400}.order-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-size:17px;color:#fff;font-weight:700;padding-left:15px;padding-top:6px;border-bottom:2px solid #7fffd4}#order-value[_ngcontent-%COMP%]{text-align:end;padding-right:15px}.order-item[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-right:10px;padding-left:10px;font-weight:700;font-family:OpenSans-Light;margin-top:10px}#text-color[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:50px;font-size:20px;font-family:OpenSans-Light;font-weight:700;background-color:#6b00c2;margin-top:30px;margin-bottom:20px}.button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{border-radius:15px}ion-card[_ngcontent-%COMP%]{background:#1f2238;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}img[_ngcontent-%COMP%]{width:30px;width:95px;height:95px;padding:4px;border-radius:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#c3c3c3}.order-total[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-weight:700}.order-total[_ngcontent-%COMP%]{font-style:normal;font-size:17px;color:#fff;padding-left:15px;padding-top:6px}@media only screen and (max-width:360px){ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:20px;line-height:30px;color:#fff;margin-left:-10px;margin-bottom:3px}}"]}),e})()}];let z=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(n){return new(n||e)},imports:[[c.i.forChild(x)],c.i]}),e})();var M=t("tk/3");let C=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(n){return new(n||e)},providers:[a.a,b.a,u.a],imports:[[o.b,i.d,r.L,M.b,z]]}),e})()}}]);