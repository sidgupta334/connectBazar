(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{sYqR:function(t,i,o){"use strict";o.d(i,"a",(function(){return O}));var e=o("mrSG"),n=o("fXoL"),c=o("Bl/W"),s=o("Nagw"),r=o("tyNb"),a=o("TEn/"),l=o("zpKS"),d=o("Wdxn"),b=o("ofXK");function u(t,i){if(1&t){const t=n.Qb();n.Nb(0),n.Pb(1,"button",24),n.Xb("click",(function(){return n.ic(t),n.Zb(2).moveWithToast()})),n.nc(2,"ADD TO CART"),n.Ob(),n.Mb()}}function g(t,i){1&t&&n.Lb(0)}function h(t,i){if(1&t){const t=n.Qb();n.Pb(0,"div"),n.Pb(1,"button",24),n.Xb("click",(function(){n.ic(t);const i=n.Zb(3),o=i.$implicit,e=i.index;return n.Zb().addToCart(o,e)})),n.nc(2,"ADD TO CART"),n.Ob(),n.Ob()}}function p(t,i){if(1&t){const t=n.Qb();n.Pb(0,"div",29),n.Pb(1,"button",30),n.Xb("click",(function(){n.ic(t);const i=n.Zb(3),o=i.$implicit,e=i.index;return n.Zb().removeFromCart(o,e)})),n.nc(2,"-"),n.Ob(),n.Pb(3,"p",31),n.nc(4),n.Ob(),n.Pb(5,"button",32),n.Xb("click",(function(){n.ic(t);const i=n.Zb(3),o=i.$implicit,e=i.index;return n.Zb().addToCart(o,e)})),n.nc(6,"+"),n.Ob(),n.Ob()}if(2&t){const t=n.Zb(3).$implicit;n.zb(4),n.oc(t.quantity)}}function m(t,i){if(1&t&&(n.lc(0,h,3,0,"div",23),n.lc(1,p,7,1,"div",28)),2&t){const t=n.Zb(2).$implicit;n.cc("ngIf",1==t.visible),n.zb(1),n.cc("ngIf",0==t.visible)}}function f(t,i){1&t&&(n.Pb(0,"p",33),n.nc(1,"OUT OF STOCK"),n.Ob())}function v(t,i){if(1&t&&(n.Nb(0),n.lc(1,g,1,0,"ng-container",25),n.lc(2,m,2,2,"ng-template",null,26,n.mc),n.lc(4,f,2,0,"ng-template",null,27,n.mc),n.Mb()),2&t){const t=n.hc(3),i=n.hc(5),o=n.Zb().$implicit;n.zb(1),n.cc("ngIf",1==o.available)("ngIfThen",t)("ngIfElse",i)}}function y(t,i){if(1&t){const t=n.Qb();n.Pb(0,"ion-card",11),n.Pb(1,"ion-row"),n.Pb(2,"ion-col",12),n.Xb("click",(function(){n.ic(t);const o=i.$implicit;return n.Zb().particularProduct(o)})),n.Kb(3,"img",13),n.Ob(),n.Pb(4,"ion-col",14),n.Pb(5,"div",15),n.Pb(6,"div",16),n.Xb("click",(function(){n.ic(t);const o=i.$implicit;return n.Zb().particularProduct(o)})),n.Pb(7,"p",17),n.nc(8),n.Pb(9,"span"),n.Pb(10,"del",18),n.nc(11),n.Ob(),n.Ob(),n.Pb(12,"span"),n.Pb(13,"label",19),n.nc(14),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(15,"div",20),n.Xb("click",(function(){n.ic(t);const o=i.$implicit;return n.Zb().particularProduct(o)})),n.Pb(16,"p",21),n.nc(17),n.Pb(18,"span",22),n.nc(19),n.Ob(),n.Kb(20,"span"),n.Ob(),n.Ob(),n.lc(21,u,3,0,"ng-container",23),n.lc(22,v,6,3,"ng-container",23),n.Ob(),n.Ob(),n.Ob(),n.Ob()}if(2&t){const t=i.$implicit,o=n.Zb();n.zb(3),n.cc("src",t.url,n.jc),n.zb(5),n.pc(" \u20b9",t.newPrice," "),n.zb(3),n.pc("\u20b9",t.oldPrice,""),n.zb(3),n.pc("",t.discountPercentage,"% Off"),n.zb(3),n.pc(" ",t.productName,""),n.zb(2),n.pc(" - (",t.brand,") "),n.zb(2),n.cc("ngIf",0==o.show),n.zb(1),n.cc("ngIf",1==o.show)}}let O=(()=>{class t{constructor(t,i,o,e,n,c){this.homePageApi=t,this.api=i,this.router=o,this.loadingController=e,this.home=n,this.common=c,this.cart=[]}ngOnInit(){this.noAuth=localStorage.getItem("grocericatoken"),null===this.noAuth&&(this.show=!1,console.log(this.quantity)),void 0===this.noAuth&&(this.show=!1),this.noAuth&&(this.show=!0),this.viewCart(),this.quantity=localStorage.getItem("grocericaQuantity"),console.log("quantity"+this.quantity)}openModel(){this.common.openModal()}updateCart(t){this.quantity="+"===t?Number(this.quantity)+1:0==this.quantity?0:Number(this.quantity)-1,localStorage.setItem("cartCount",this.quantity)}viewCart(){return Object(e.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Please wait..."});t.present(),this.api.viewCart().subscribe(i=>Object(e.a)(this,void 0,void 0,(function*(){yield t.dismiss(),this.quantity=i.netQuantity,this.view=i,localStorage.setItem("grocericaQuantity",i.netQuantity),this.quantity=localStorage.getItem("grocericaQuantity"),console.log("cart values",this.view);const o=localStorage.getItem("grocericaCategory");this.getProducts(o)})),i=>Object(e.a)(this,void 0,void 0,(function*(){yield t.dismiss(),500===i.status&&console.log("I am here ")})))}))}getProducts(t){return Object(e.a)(this,void 0,void 0,(function*(){const i=yield this.loadingController.create({message:"Please wait..."});i.present(),this.homePageApi.getProducts(t).subscribe(t=>Object(e.a)(this,void 0,void 0,(function*(){var o;yield i.dismiss(),this.category=t[0].categoryName,console.log("productList",t),console.log("product list length"+t.length);for(let i=0;i<t.length;i++)t[i].discountPercentage=Math.round((t[i].oldPrice-t[i].newPrice)/t[i].oldPrice*100),this.productList=t;for(let i=0;i<t.length;i++){if(this.productList[i].visible=!0,this.view&&(null===(o=this.view)||void 0===o?void 0:o.products))for(let t=0;t<this.view.products.length;t++)this.productList[i].productId===this.view.products[t].productId&&(console.log("true"),this.productList[i].visible=!1,this.productList[i].quantity=this.view.products[t].quantity,console.log(this.productList));console.log(this.productList)}})),t=>Object(e.a)(this,void 0,void 0,(function*(){401===t.status&&(this.router.navigate(["/login"]),yield i.dismiss()),0===t.status&&(this.router.navigate(["/no-internet"]),yield i.dismiss()),console.log(t),yield i.dismiss()})))}))}addToCart(t,i){return Object(e.a)(this,void 0,void 0,(function*(){const i=yield this.loadingController.create({message:"Please wait..."});i.present(),this.api.addToCart(t.productId).subscribe(t=>Object(e.a)(this,void 0,void 0,(function*(){console.log(t),yield i.dismiss();for(let i=0;i<t.products.length;i++){console.log("cart list id",t.products[i].productId);for(let o=0;o<this.productList.length;o++)t.products[i].productId==this.productList[o].productId&&(console.log("same id",t.products[i].productId),this.productList[o].visible=!1,this.productList[o].quantity=t.products[i].quantity)}console.log(this.productList),this.updateCart("+")})),t=>Object(e.a)(this,void 0,void 0,(function*(){yield i.dismiss(),console.log(t),this.common.presentToast("Unable to add product"),500==t.status&&console.log("helll")})))}))}removeFromCart(t,i){return Object(e.a)(this,void 0,void 0,(function*(){const i=yield this.loadingController.create({message:"Please wait..."});i.present(),console.log("items ",t),this.api.removeFromCart(t.productId).subscribe(t=>Object(e.a)(this,void 0,void 0,(function*(){if(yield i.dismiss(),console.log("cart response ",t),this.removeCart=t,0!=this.removeCart.netQuantity)for(let t=0;t<this.removeCart.products.length;t++){console.log("remove cart length "+this.removeCart.products.length);for(let i=0;i<this.productList.length;i++)console.log("product list length "+this.productList.length),this.removeCart.products[t].productId===this.productList[i].productId&&(this.productList[i].quantity=this.removeCart.products[t].quantity,console.log(this.productList)),this.removeCart.products.some(t=>t.productId===this.productList[i].productId)?console.log("Object found inside the array."):(console.log("Not found ",this.productList[i].productId),this.productList[i].visible=!0)}0===this.removeCart.netQuantity&&(this.productList.forEach(t=>{delete t.quantity,t.visible=!0}),console.log("empty"),this.quantity=0),this.updateCart("-")})),t=>Object(e.a)(this,void 0,void 0,(function*(){yield i.dismiss(),console.log(t),this.common.presentToast("Unable to remove product")})))}))}particularProduct(t){localStorage.setItem("grocericaProduct",JSON.stringify(t)),this.router.navigate(["/product"])}moveWithToast(){this.common.presentToast("Login to add product in cart "),setTimeout(()=>{this.router.navigate(["/login"])},3033)}}return t.\u0275fac=function(i){return new(i||t)(n.Jb(c.a),n.Jb(s.a),n.Jb(r.g),n.Jb(a.N),n.Jb(l.a),n.Jb(d.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-category"]],decls:15,vars:3,consts:[["color","primary",2,"height","52px"],["slot","start"],["name","arrow-back","routerLink","/home"],["slot","end","tab","search"],[3,"click"],["name","search",1,"cart-icon"],["routerLink","/cart",2,"margin-left","6px","position","relative"],["name","cart",2,"font-size","24px"],["slot","end",2,"border-radius","50%"],[1,"appBackground"],["class","ion-card-category",4,"ngFor","ngForOf"],[1,"ion-card-category"],["size","4",3,"click"],[1,"cart-image",3,"src"],[1,"cate-ion-col"],[1,"cate-parent"],[1,"rupee-status",3,"click"],[1,"class-ruppee"],[1,"class-del"],["id","product-label",1,"class-off-button"],[1,"branddiv",3,"click"],[1,"class-product"],[1,"class-brand"],[4,"ngIf"],[1,"cartButton","des-button",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["addTocart",""],["stock",""],["class","cate-more",4,"ngIf"],[1,"cate-more"],[1,"incButton","des-button",3,"click"],[1,"incText"],[1,"decButton","des-button",3,"click"],[1,"stock"]],template:function(t,i){1&t&&(n.Pb(0,"ion-header"),n.Pb(1,"ion-toolbar",0),n.Pb(2,"ion-buttons",1),n.Kb(3,"ion-icon",2),n.Ob(),n.Pb(4,"ion-title"),n.nc(5),n.Ob(),n.Pb(6,"ion-buttons",3),n.Pb(7,"ion-button",4),n.Xb("click",(function(){return i.openModel()})),n.Kb(8,"ion-icon",5),n.Ob(),n.Pb(9,"ion-button",6),n.Kb(10,"ion-icon",7),n.Pb(11,"ion-badge",8),n.nc(12),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(13,"ion-content",9),n.lc(14,y,23,8,"ion-card",10),n.Ob()),2&t&&(n.zb(5),n.oc(i.category),n.zb(7),n.oc(i.quantity),n.zb(2),n.cc("ngForOf",i.productList))},directives:[a.o,a.K,a.f,a.p,a.S,r.h,a.J,a.e,a.d,a.j,b.j,a.g,a.B,a.i,b.k],styles:[""]}),t})()},zpKS:function(t,i,o){"use strict";o.d(i,"a",(function(){return p}));var e=o("mrSG"),n=o("fXoL"),c=o("tyNb"),s=o("TEn/"),r=o("Bl/W"),a=o("Wdxn"),l=o("Nagw"),d=o("Bg0J"),b=o("Sy1n"),u=o("ofXK");function g(t,i){if(1&t&&(n.Pb(0,"ion-slide"),n.Kb(1,"img",20),n.Ob()),2&t){const t=i.$implicit;n.zb(1),n.cc("src",t.url,n.jc)}}function h(t,i){if(1&t){const t=n.Qb();n.Pb(0,"ion-col",21),n.Xb("click",(function(){n.ic(t);const o=i.$implicit;return n.Zb().categoryList(o)})),n.Kb(1,"img",22),n.Pb(2,"p",23),n.nc(3),n.Ob(),n.Ob()}if(2&t){const t=i.$implicit;n.zb(1),n.cc("src",t.url,n.jc),n.zb(2),n.oc(t.categoryName)}}let p=(()=>{class t{constructor(t,i,o,e,n,c,s,r,a){this.router=t,this.modalController=i,this.homePageApi=o,this.commom=e,this.cartApi=n,this.loadingController=c,this.localNotifications=s,this.myapp=r,this.platform=a,this.slideOptions={initialSlide:1,speed:400},this.platform.ready().then(()=>{this.localNotifications.on("click").subscribe(t=>{console.log("click",t),t.data&&(console.log("click move to view order"),localStorage.setItem("grocericaViewCart",JSON.stringify(t.data.secret)),this.router.navigate(["/view-order"]))})})}ngOnInit(){this.cartApi.viewCart().subscribe(t=>{console.log("responnnse",t),this.quantity=t.netQuantity}),this.myapp.ngOnInit()}ngOnChanges(){}openModal(){this.commom.openModal()}viewCart(){console.log("i work"),this.cartApi.viewCart().subscribe(t=>{this.quantity=t.netQuantity,localStorage.setItem("grocericaQuantity",t.netQuantity)},t=>{401===t.status&&(localStorage.removeItem("grocericatoken"),localStorage.removeItem("userDetail"),localStorage.removeItem("user"),localStorage.removeItem("userIdSignUp"),this.router.navigate(["/login"])),500===t.status&&console.log(t)})}getBanner(){return Object(e.a)(this,void 0,void 0,(function*(){const t=this.homePageApi.getBanner(),i=yield this.loadingController.create({message:"Please wait..."});i.present(),t.subscribe(t=>Object(e.a)(this,void 0,void 0,(function*(){console.log(t),this.bannerImage=t,yield i.dismiss(),this.getCategory()})),t=>Object(e.a)(this,void 0,void 0,(function*(){401===t.status&&(this.router.navigate(["/login"]),yield i.dismiss()),0===t.status&&(this.router.navigate(["/no-internet"]),yield i.dismiss()),console.log(t)})))}))}slidesDidLoad(t){t.startAutoplay()}getCategory(){return Object(e.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Please wait..."});this.homePageApi.getCategory().subscribe(t=>{console.log(t),this.categoryDescription=t},i=>Object(e.a)(this,void 0,void 0,(function*(){401===i.status&&(this.router.navigate(["/login"]),yield t.dismiss()),0===i.status&&(this.router.navigate(["/no-internet"]),yield t.dismiss()),console.log(i)})))}))}categoryList(t){console.log(t),localStorage.setItem("grocericaCategory",t.categoryId),this.router.navigate(["category"])}ionViewWillEnter(){console.log("ion-view-will-enter"),this.getBanner(),this.viewCart(),this.myapp.ngOnInit()}}return t.\u0275fac=function(i){return new(i||t)(n.Jb(c.g),n.Jb(s.P),n.Jb(r.a),n.Jb(a.a),n.Jb(l.a),n.Jb(s.N),n.Jb(d.a),n.Jb(b.a),n.Jb(s.R))},t.\u0275cmp=n.Db({type:t,selectors:[["app-home"]],features:[n.xb],decls:25,vars:4,consts:[["color","primary"],["color","primary",1,"flex-horizontal"],["slot","start"],[2,"font-size","44px","margin-top","-6px"],[1,"home-ion-title"],["slot","end","tab","search"],[3,"click"],["name","search",1,"search-icon"],["routerLink","/cart"],["name","cart",2,"font-size","24px"],["slot","end",2,"border-radius","50%"],[1,"background"],["pager","true",3,"options","ionSlidesDidLoad"],["slider",""],[4,"ngFor","ngForOf"],[1,"flex-horizontal"],["src","../../assets/list.png","width","40","alt","Connect Bazar",2,"margin","5px 10px"],[1,"categories-header"],[2,"margin-left","6px"],["class","category-card","size","5.6",3,"click",4,"ngFor","ngForOf"],["alt","caring mother",1,"slider-image",3,"src"],["size","5.6",1,"category-card",3,"click"],["alt","caring mother",1,"category-image",3,"src"],[1,"category-text"]],template:function(t,i){if(1&t){const t=n.Qb();n.Pb(0,"ion-header",0),n.Pb(1,"ion-toolbar",1),n.Pb(2,"ion-buttons",2),n.Kb(3,"ion-menu-button",3),n.Ob(),n.Pb(4,"ion-title",4),n.nc(5,"Connect BAZAR"),n.Ob(),n.Pb(6,"ion-buttons",5),n.Pb(7,"ion-button",6),n.Xb("click",(function(){return i.openModal()})),n.Kb(8,"ion-icon",7),n.Ob(),n.Pb(9,"ion-button",8),n.Kb(10,"ion-icon",9),n.Pb(11,"ion-badge",10),n.nc(12),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(13,"ion-content",11),n.Pb(14,"ion-slides",12,13),n.Xb("ionSlidesDidLoad",(function(){n.ic(t);const o=n.hc(15);return i.slidesDidLoad(o)})),n.lc(16,g,2,1,"ion-slide",14),n.Ob(),n.Kb(17,"br"),n.Pb(18,"div",15),n.Kb(19,"img",16),n.Pb(20,"div",17),n.nc(21,"Categories"),n.Ob(),n.Ob(),n.Pb(22,"ion-grid",18),n.Pb(23,"ion-row"),n.lc(24,h,4,2,"ion-col",19),n.Ob(),n.Ob(),n.Ob()}2&t&&(n.zb(12),n.oc(i.quantity),n.zb(2),n.cc("options",i.slideOptions),n.zb(2),n.cc("ngForOf",i.bannerImage),n.zb(8),n.cc("ngForOf",i.categoryDescription))},directives:[s.o,s.K,s.f,s.w,s.J,s.e,s.p,s.S,c.h,s.d,s.j,s.G,u.j,s.n,s.B,s.F,s.i],styles:[".background[_ngcontent-%COMP%]{--background:#050714}ion-toolbar[_ngcontent-%COMP%]{--min-height:70px!important}.home-ion-title[_ngcontent-%COMP%]{font-size:14px;text-align:left}.home-ion-title[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;color:#fff}p[_ngcontent-%COMP%]{font-size:19px;line-height:22px;text-align:center}.category-image[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.category-image[_ngcontent-%COMP%]{border-radius:50%;height:166px;min-height:130px;max-height:130px;min-width:130px;max-width:130px;display:block}.slider-image[_ngcontent-%COMP%]{height:230px;min-height:230px;width:100%;-o-object-fit:cover;object-fit:cover}.flex-horizontal[_ngcontent-%COMP%]{display:flex;align-items:center}@media only screen and (max-width:360px){.category-image[_ngcontent-%COMP%]{border-radius:50%;min-height:120px;max-height:120px;min-width:120px;max-width:120px;margin-left:auto;margin-right:auto;display:block}.home-ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:14px;text-align:center;color:#fff}}.categories-header[_ngcontent-%COMP%]{color:#fff;font-size:24px;max-width:120px;height:30px;font-weight:700}.category-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin:5px;padding:5px;background:#1f2238;border-radius:10px;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}.category-text[_ngcontent-%COMP%]{margin-bottom:5px}"]}),t})()}}]);