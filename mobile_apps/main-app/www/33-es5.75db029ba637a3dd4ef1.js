function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{oFOw:function(e,r,n){"use strict";n.r(r),n.d(r,"ViewOrderPageModule",(function(){return M}));var t=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),c=n("tyNb"),a=n("mrSG"),l=n("fXoL"),d=n("Wdxn"),b=n("6zcV"),s=n("Bl/W"),u=n("Nagw");function f(e,r){1&e&&(l.Rb(0,"ion-col",18),l.qc(1,"CANCELLED"),l.Qb())}function g(e,r){if(1&e&&(l.Rb(0,"ion-col",18),l.qc(1),l.Qb()),2&e){var n=l.bc(2);l.Ab(1),l.rc(null==n.viewOrder?null:n.viewOrder.orderStatus)}}function p(e,r){if(1&e&&(l.Rb(0,"ion-row",19),l.Rb(1,"ion-col",20),l.Mb(2,"img",21),l.Qb(),l.Rb(3,"ion-col",11),l.Rb(4,"p"),l.qc(5),l.Rb(6,"span"),l.qc(7),l.Qb(),l.Qb(),l.Rb(8,"div",22),l.Rb(9,"p"),l.Rb(10,"span"),l.Rb(11,"del"),l.qc(12),l.Qb(),l.Qb(),l.Rb(13,"span",23),l.qc(14),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(15,"ion-col"),l.Rb(16,"p",24),l.qc(17),l.Qb(),l.Qb(),l.Qb()),2&e){var n=r.$implicit;l.Ab(2),l.ec("src",n.url,l.mc),l.Ab(3),l.sc("",n.productName," "),l.Ab(2),l.sc("(",n.brand,") "),l.Ab(5),l.sc("\u20b9",n.oldPrice,""),l.Ab(2),l.tc(" \u20b9 ",n.newPrice," \xd7 ",n.quantity," "),l.Ab(3),l.sc("\u20b9 ",n.total,"")}}function v(e,r){if(1&e&&(l.Rb(0,"ion-row",19),l.Rb(1,"ion-col",20),l.Mb(2,"img",21),l.Qb(),l.Rb(3,"ion-col",11),l.Rb(4,"p"),l.qc(5),l.Rb(6,"span"),l.qc(7),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&e){var n=r.$implicit;l.Ab(2),l.ec("src",n.url,l.mc),l.Ab(3),l.sc("",n.productName," "),l.Ab(2),l.sc("(",n.brand,") ")}}function w(e,r){if(1&e){var n=l.Sb();l.Pb(0),l.Rb(1,"ion-button",25),l.Zb("click",(function(){l.lc(n);var e=l.bc(3);return e.review(e.viewOrder)})),l.qc(2,"RATE YOUR ORDER"),l.Qb(),l.Ob()}}function O(e,r){if(1&e&&(l.Pb(0),l.oc(1,w,3,0,"ng-container",17),l.Ob()),2&e){var n=l.bc(2);l.Ab(1),l.ec("ngIf","COMPLETED"===(null==n.viewOrder?null:n.viewOrder.orderStatus))}}function h(e,r){if(1&e){var n=l.Sb();l.Pb(0),l.Rb(1,"ion-button",25),l.Zb("click",(function(){l.lc(n);var e=l.bc(3);return e.viewFeedback(e.viewOrder)})),l.qc(2,"View Feedback"),l.Qb(),l.Ob()}}function m(e,r){if(1&e&&(l.Pb(0),l.oc(1,h,3,0,"ng-container",17),l.Ob()),2&e){var n=l.bc(2);l.Ab(1),l.ec("ngIf","COMPLETED"===(null==n.viewOrder?null:n.viewOrder.orderStatus))}}function R(e,r){if(1&e&&(l.Rb(0,"ion-content",6),l.Rb(1,"ion-grid"),l.Rb(2,"ion-row",7),l.Rb(3,"ion-col",8),l.qc(4,"Order ID: "),l.Rb(5,"span",9),l.qc(6),l.Qb(),l.Qb(),l.Qb(),l.Rb(7,"ion-row",10),l.Rb(8,"ion-col",11),l.qc(9,"Order Date"),l.Qb(),l.Rb(10,"ion-col",12),l.qc(11),l.Qb(),l.Rb(12,"ion-col",11),l.qc(13,"Order Status"),l.Qb(),l.oc(14,f,2,0,"ion-col",13),l.oc(15,g,2,1,"ion-col",13),l.Rb(16,"ion-col",11),l.qc(17,"Products Count"),l.Qb(),l.Rb(18,"ion-col",12),l.qc(19),l.Qb(),l.Qb(),l.Qb(),l.Rb(20,"ion-row",14),l.Rb(21,"ion-col",8),l.qc(22,"ORDERED ITEMS :"),l.Qb(),l.Qb(),l.Rb(23,"ion-card"),l.oc(24,p,18,7,"ion-row",15),l.Qb(),l.Rb(25,"ion-row",14),l.Rb(26,"ion-col",8),l.qc(27,"CANCELLED ITEMS :"),l.Qb(),l.Qb(),l.Rb(28,"ion-card"),l.oc(29,v,8,3,"ion-row",15),l.Rb(30,"div",16),l.Rb(31,"p"),l.qc(32," These items are cancelled as they were not available in stocks, we regret for the inconvenience. "),l.Qb(),l.Qb(),l.Qb(),l.oc(33,O,2,1,"ng-container",17),l.oc(34,m,2,1,"ng-container",17),l.Qb()),2&e){var n=l.bc();l.Ab(6),l.rc(null==n.viewOrder?null:n.viewOrder.orderId),l.Ab(5),l.rc(null==n.viewOrder?null:n.viewOrder.orderDate),l.Ab(3),l.ec("ngIf","CANCELLED_COD"==(null==n.viewOrder?null:n.viewOrder.orderStatus)||"CANCELLED_ONLINE"==(null==n.viewOrder?null:n.viewOrder.orderStatus)),l.Ab(1),l.ec("ngIf","CANCELLED_COD"!==(null==n.viewOrder?null:n.viewOrder.orderStatus)&&"CANCELLED_ONLINE"!==(null==n.viewOrder?null:n.viewOrder.orderStatus)),l.Ab(4),l.rc(null==n.viewOrder?null:n.viewOrder.netQuantity),l.Ab(5),l.ec("ngForOf",null==n.viewOrder?null:n.viewOrder.products),l.Ab(5),l.ec("ngForOf",null==n.viewOrder?null:n.viewOrder.inactiveProducts),l.Ab(4),l.ec("ngIf",1==n.viewRate),l.Ab(1),l.ec("ngIf",0==n.viewRate)}}function Q(e,r){if(1&e&&(l.Pb(0),l.Rb(1,"ion-col",11),l.qc(2,"Status"),l.Qb(),l.Rb(3,"ion-col",12),l.qc(4),l.Qb(),l.Ob()),2&e){var n=l.bc(2);l.Ab(4),l.rc(null==n.viewOrder?null:n.viewOrder.orderStatus)}}function x(e,r){if(1&e&&(l.Pb(0),l.Rb(1,"ion-col",11),l.qc(2,"Status"),l.Qb(),l.Rb(3,"ion-col",31),l.qc(4),l.Qb(),l.Ob()),2&e){var n=l.bc(2);l.Ab(4),l.rc(null==n.viewOrder?null:n.viewOrder.orderStatus)}}function C(e,r){if(1&e&&(l.Pb(0),l.Rb(1,"ion-col",11),l.qc(2,"Status"),l.Qb(),l.Rb(3,"ion-col",18),l.qc(4),l.Qb(),l.Ob()),2&e){var n=l.bc(2);l.Ab(4),l.rc(null==n.viewOrder?null:n.viewOrder.orderStatus)}}function A(e,r){if(1&e){var n=l.Sb();l.Pb(0),l.Rb(1,"button",32),l.Zb("click",(function(){l.lc(n);var e=l.bc(2);return e.cancelOrder(e.viewOrder)})),l.qc(2," Cancel Order"),l.Qb(),l.Ob()}}function P(e,r){if(1&e&&(l.Rb(0,"div",26),l.Rb(1,"ion-row",27),l.oc(2,Q,5,1,"ng-container",17),l.oc(3,x,5,1,"ng-container",17),l.oc(4,C,5,1,"ng-container",17),l.Rb(5,"ion-col",11),l.qc(6,"Total Amount"),l.Qb(),l.Rb(7,"ion-col",12),l.qc(8),l.Qb(),l.Rb(9,"ion-col",11),l.qc(10,"Discount received from us"),l.Qb(),l.Rb(11,"ion-col",28),l.qc(12),l.Qb(),l.Rb(13,"ion-col",11),l.qc(14,"Net Amount"),l.Qb(),l.Rb(15,"ion-col",12),l.qc(16),l.Qb(),l.Rb(17,"ion-col",11),l.qc(18,"Discount Applied"),l.Qb(),l.Rb(19,"ion-col",18),l.qc(20),l.Qb(),l.Rb(21,"ion-col",11),l.qc(22,"Service Charge"),l.Qb(),l.Rb(23,"ion-col",18),l.qc(24),l.Qb(),l.Rb(25,"ion-col",29),l.qc(26,"Final Amount"),l.Qb(),l.Rb(27,"ion-col",30),l.qc(28),l.Qb(),l.Qb(),l.oc(29,A,3,0,"ng-container",17),l.Qb()),2&e){var n=l.bc();l.Ab(2),l.ec("ngIf","CONFIRMED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),l.Ab(1),l.ec("ngIf","CANCELLED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),l.Ab(1),l.ec("ngIf","COMPLETED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),l.Ab(4),l.sc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.oldTotal,""),l.Ab(4),l.sc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.discountReceived,""),l.Ab(4),l.sc("\u20b9 ",(null==n.viewOrder?null:n.viewOrder.netAmount)-(null==n.viewOrder?null:n.viewOrder.serviceCharge),""),l.Ab(4),l.sc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.discountApplied,""),l.Ab(4),l.sc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.serviceCharge,""),l.Ab(4),l.sc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.finalTotal,""),l.Ab(1),l.ec("ngIf","ORDERED"===(null==n.viewOrder?null:n.viewOrder.orderStatus))}}var q,y,k,S=[{path:"",component:(q=function(){function e(r,n,t,o,i,c,a){_classCallCheck(this,e),this.common=r,this.orderApi=n,this.api=t,this.Activatedroute=o,this.cartapi=i,this.loadingController=c,this.router=a,this.viewRate=!0,this.totalvalue=0,this.isOrderLoaded=!1}return _createClass(e,[{key:"openSearchModal",value:function(){this.common.openModal()}},{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.quantity=localStorage.getItem("grocericaQuantity");case 1:case"end":return e.stop()}}),e,this)})))}},{key:"particularProductAccess",value:function(){"COMPLETED"===this.viewOrder.orderStatus&&this.getReview(this.viewOrder.orderId);for(var e=0;e<this.viewOrder.products.length;e++)this.viewOrder.products[e].total=this.viewOrder.products[e].newPrice*this.viewOrder.products[e].quantity,this.totalvalue=this.viewOrder.products[e].total+this.totalvalue}},{key:"cancelOrder",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,t=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.loadingController.create({message:"Please wait..."});case 2:(n=r.sent).present(),this.orderApi.cancelOrder(e).subscribe((function(e){return Object(a.a)(t,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.dismiss(),localStorage.setItem("grocericaViewCart",JSON.stringify(e)),this.common.presentToast("Your order is successfully cancelled"),this.router.navigate(["/home"]);case 1:case"end":return r.stop()}}),r,this)})))}),(function(e){n.dismiss(),t.common.presentToast("Something Went Wrong")}));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"review",value:function(e){localStorage.setItem("reviewProduct",JSON.stringify(e)),this.router.navigate(["/rating"])}},{key:"getReview",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n,t=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.loadingController.create({message:"Please wait..."});case 2:(n=r.sent).present(),this.api.getFeedback(e).subscribe((function(e){n.dismiss(),t.feedback=e,t.viewRate=!1}),(function(e){n.dismiss()}));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"viewFeedback",value:function(e){var r=Object.assign(this.feedback,e);localStorage.setItem("viewFeedback",JSON.stringify(r)),this.router.navigate(["/feedback"])}},{key:"ionViewWillEnter",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r,n,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.quantity=localStorage.getItem("grocericaQuantity"),this.Activatedroute.paramMap.subscribe((function(e){t.id=e.get("id")})),r=this.orderApi.particularOrder(this.id),e.next=4,this.loadingController.create({message:"Please wait..."});case 4:(n=e.sent).present(),r.subscribe((function(e){n.dismiss(),t.isOrderLoaded=!0,t.viewOrder=e,t.viewOrder.discountReceived=t.viewOrder.oldTotal-(t.viewOrder.finalTotal+t.viewOrder.discountApplied),t.viewOrder.netAmount=t.viewOrder.oldTotal-t.viewOrder.discountReceived,t.viewOrder&&t.particularProductAccess()}),(function(e){n.dismiss()}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"calculateDiscountReceived",value:function(e){return e.oldTotal-(e.finalTotal+e.discountApplied)}}]),e}(),q.\u0275fac=function(e){return new(e||q)(l.Lb(d.a),l.Lb(b.a),l.Lb(s.a),l.Lb(c.a),l.Lb(u.a),l.Lb(i.N),l.Lb(c.g))},q.\u0275cmp=l.Fb({type:q,selectors:[["app-view-order"]],decls:8,vars:2,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/all-order"],[2,"font-size","20px"],["class","appBackground",4,"ngIf"],["style","background-color: rgb(6, 15, 66);",4,"ngIf"],[1,"appBackground"],[1,"order-row"],[1,"order-col"],[2,"font-weight","bold"],[1,"order-title"],["size","6"],["size","6","id","order-value"],["size","6","id","order-value","style","color: #1FCA1C;",4,"ngIf"],[1,"order-item"],["style","border-bottom: 1px solid aquamarine;",4,"ngFor","ngForOf"],[2,"margin-left","20px","margin-right","20px"],[4,"ngIf"],["size","6","id","order-value",2,"color","#1FCA1C"],[2,"border-bottom","1px solid aquamarine"],["size","3"],["alt","grocrica",3,"src"],[2,"margin-top","25px"],[2,"margin-left","15px"],[2,"text-align","end","padding-right","10px"],[2,"margin-right","560px",3,"click"],[2,"background-color","rgb(6, 15, 66)"],["id","text-color",1,"order-total"],["size","6","id","order-value",2,"color","#cabe1c"],["size","6",2,"font-weight","bold"],["size","6","id","order-value",2,"font-weight","bold"],["size","6","id","order-value",2,"color","red"],[1,"button","des-button",3,"click"]],template:function(e,r){1&e&&(l.Rb(0,"ion-header"),l.Rb(1,"ion-toolbar",0),l.Rb(2,"ion-buttons",1),l.Mb(3,"ion-icon",2),l.Qb(),l.Rb(4,"ion-title",3),l.qc(5,"VIEW ORDER"),l.Qb(),l.Qb(),l.Qb(),l.oc(6,R,35,9,"ion-content",4),l.oc(7,P,30,10,"div",5)),2&e&&(l.Ab(6),l.ec("ngIf",r.isOrderLoaded),l.Ab(1),l.ec("ngIf",r.isOrderLoaded))},directives:[i.o,i.K,i.f,i.p,i.S,c.h,i.J,t.k,i.j,i.n,i.B,i.i,i.g,t.j,i.e],styles:["ion-title[_ngcontent-%COMP%]{font-style:normal;font-weight:bolder;font-size:28px;line-height:30px;text-align:left;position:absolute;bottom:9px}.order-row[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;color:#fff}.order-row[_ngcontent-%COMP%]{text-align:center;padding-right:10px;padding-left:10px;font-weight:700;margin-top:10px;padding-bottom:10px;border-bottom:2px solid #2f83e2}.order-col[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:400}.order-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-size:17px;color:#fff;font-weight:700;padding-left:15px;padding-top:6px;border-bottom:2px solid #2f83e2;padding-bottom:10px}#order-value[_ngcontent-%COMP%]{text-align:end;padding-right:15px}.order-item[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-right:10px;padding-left:10px;font-weight:700;font-family:OpenSans-Light;margin-top:10px}#text-color[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:50px;font-size:20px;font-family:OpenSans-Light;font-weight:700;background-color:#6b00c2;margin-top:30px;margin-bottom:20px}.button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{border-radius:15px}ion-card[_ngcontent-%COMP%]{background:#1f2238;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}img[_ngcontent-%COMP%]{width:30px;width:95px;height:95px;padding:4px;border-radius:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#c3c3c3}.order-total[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-weight:700}.order-total[_ngcontent-%COMP%]{font-style:normal;font-size:17px;color:#fff;padding-left:15px;padding-top:6px}@media only screen and (max-width:360px){ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:20px;line-height:30px;color:#fff;margin-left:-10px;margin-bottom:3px}}"]}),q)}],L=((y=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:y}),y.\u0275inj=l.Ib({factory:function(e){return new(e||y)},imports:[[c.i.forChild(S)],c.i]}),y),E=n("tk/3"),M=((k=function e(){_classCallCheck(this,e)}).\u0275mod=l.Jb({type:k}),k.\u0275inj=l.Ib({factory:function(e){return new(e||k)},providers:[b.a,d.a,u.a],imports:[[t.b,o.d,i.L,E.b,L]]}),k)}}]);