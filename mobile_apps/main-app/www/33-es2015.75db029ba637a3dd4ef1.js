(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{oFOw:function(e,t,o){"use strict";o.r(t),o.d(t,"ViewOrderPageModule",(function(){return y}));var n=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),c=o("tyNb"),l=o("mrSG"),d=o("fXoL"),b=o("Wdxn"),a=o("6zcV"),s=o("Bl/W"),u=o("Nagw");function g(e,t){1&e&&(d.Rb(0,"ion-col",18),d.qc(1,"CANCELLED"),d.Qb())}function f(e,t){if(1&e&&(d.Rb(0,"ion-col",18),d.qc(1),d.Qb()),2&e){const e=d.bc(2);d.Ab(1),d.rc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function p(e,t){if(1&e&&(d.Rb(0,"ion-row",19),d.Rb(1,"ion-col",20),d.Mb(2,"img",21),d.Qb(),d.Rb(3,"ion-col",11),d.Rb(4,"p"),d.qc(5),d.Rb(6,"span"),d.qc(7),d.Qb(),d.Qb(),d.Rb(8,"div",22),d.Rb(9,"p"),d.Rb(10,"span"),d.Rb(11,"del"),d.qc(12),d.Qb(),d.Qb(),d.Rb(13,"span",23),d.qc(14),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(15,"ion-col"),d.Rb(16,"p",24),d.qc(17),d.Qb(),d.Qb(),d.Qb()),2&e){const e=t.$implicit;d.Ab(2),d.ec("src",e.url,d.mc),d.Ab(3),d.sc("",e.productName," "),d.Ab(2),d.sc("(",e.brand,") "),d.Ab(5),d.sc("\u20b9",e.oldPrice,""),d.Ab(2),d.tc(" \u20b9 ",e.newPrice," \xd7 ",e.quantity," "),d.Ab(3),d.sc("\u20b9 ",e.total,"")}}function O(e,t){if(1&e&&(d.Rb(0,"ion-row",19),d.Rb(1,"ion-col",20),d.Mb(2,"img",21),d.Qb(),d.Rb(3,"ion-col",11),d.Rb(4,"p"),d.qc(5),d.Rb(6,"span"),d.qc(7),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&e){const e=t.$implicit;d.Ab(2),d.ec("src",e.url,d.mc),d.Ab(3),d.sc("",e.productName," "),d.Ab(2),d.sc("(",e.brand,") ")}}function w(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"ion-button",25),d.Zb("click",(function(){d.lc(e);const t=d.bc(3);return t.review(t.viewOrder)})),d.qc(2,"RATE YOUR ORDER"),d.Qb(),d.Ob()}}function v(e,t){if(1&e&&(d.Pb(0),d.oc(1,w,3,0,"ng-container",17),d.Ob()),2&e){const e=d.bc(2);d.Ab(1),d.ec("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}function h(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"ion-button",25),d.Zb("click",(function(){d.lc(e);const t=d.bc(3);return t.viewFeedback(t.viewOrder)})),d.qc(2,"View Feedback"),d.Qb(),d.Ob()}}function m(e,t){if(1&e&&(d.Pb(0),d.oc(1,h,3,0,"ng-container",17),d.Ob()),2&e){const e=d.bc(2);d.Ab(1),d.ec("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}function R(e,t){if(1&e&&(d.Rb(0,"ion-content",6),d.Rb(1,"ion-grid"),d.Rb(2,"ion-row",7),d.Rb(3,"ion-col",8),d.qc(4,"Order ID: "),d.Rb(5,"span",9),d.qc(6),d.Qb(),d.Qb(),d.Qb(),d.Rb(7,"ion-row",10),d.Rb(8,"ion-col",11),d.qc(9,"Order Date"),d.Qb(),d.Rb(10,"ion-col",12),d.qc(11),d.Qb(),d.Rb(12,"ion-col",11),d.qc(13,"Order Status"),d.Qb(),d.oc(14,g,2,0,"ion-col",13),d.oc(15,f,2,1,"ion-col",13),d.Rb(16,"ion-col",11),d.qc(17,"Products Count"),d.Qb(),d.Rb(18,"ion-col",12),d.qc(19),d.Qb(),d.Qb(),d.Qb(),d.Rb(20,"ion-row",14),d.Rb(21,"ion-col",8),d.qc(22,"ORDERED ITEMS :"),d.Qb(),d.Qb(),d.Rb(23,"ion-card"),d.oc(24,p,18,7,"ion-row",15),d.Qb(),d.Rb(25,"ion-row",14),d.Rb(26,"ion-col",8),d.qc(27,"CANCELLED ITEMS :"),d.Qb(),d.Qb(),d.Rb(28,"ion-card"),d.oc(29,O,8,3,"ion-row",15),d.Rb(30,"div",16),d.Rb(31,"p"),d.qc(32," These items are cancelled as they were not available in stocks, we regret for the inconvenience. "),d.Qb(),d.Qb(),d.Qb(),d.oc(33,v,2,1,"ng-container",17),d.oc(34,m,2,1,"ng-container",17),d.Qb()),2&e){const e=d.bc();d.Ab(6),d.rc(null==e.viewOrder?null:e.viewOrder.orderId),d.Ab(5),d.rc(null==e.viewOrder?null:e.viewOrder.orderDate),d.Ab(3),d.ec("ngIf","CANCELLED_COD"==(null==e.viewOrder?null:e.viewOrder.orderStatus)||"CANCELLED_ONLINE"==(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.Ab(1),d.ec("ngIf","CANCELLED_COD"!==(null==e.viewOrder?null:e.viewOrder.orderStatus)&&"CANCELLED_ONLINE"!==(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.Ab(4),d.rc(null==e.viewOrder?null:e.viewOrder.netQuantity),d.Ab(5),d.ec("ngForOf",null==e.viewOrder?null:e.viewOrder.products),d.Ab(5),d.ec("ngForOf",null==e.viewOrder?null:e.viewOrder.inactiveProducts),d.Ab(4),d.ec("ngIf",1==e.viewRate),d.Ab(1),d.ec("ngIf",0==e.viewRate)}}function Q(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"ion-col",11),d.qc(2,"Status"),d.Qb(),d.Rb(3,"ion-col",12),d.qc(4),d.Qb(),d.Ob()),2&e){const e=d.bc(2);d.Ab(4),d.rc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function A(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"ion-col",11),d.qc(2,"Status"),d.Qb(),d.Rb(3,"ion-col",31),d.qc(4),d.Qb(),d.Ob()),2&e){const e=d.bc(2);d.Ab(4),d.rc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function x(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"ion-col",11),d.qc(2,"Status"),d.Qb(),d.Rb(3,"ion-col",18),d.qc(4),d.Qb(),d.Ob()),2&e){const e=d.bc(2);d.Ab(4),d.rc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function C(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",32),d.Zb("click",(function(){d.lc(e);const t=d.bc(2);return t.cancelOrder(t.viewOrder)})),d.qc(2," Cancel Order"),d.Qb(),d.Ob()}}function q(e,t){if(1&e&&(d.Rb(0,"div",26),d.Rb(1,"ion-row",27),d.oc(2,Q,5,1,"ng-container",17),d.oc(3,A,5,1,"ng-container",17),d.oc(4,x,5,1,"ng-container",17),d.Rb(5,"ion-col",11),d.qc(6,"Total Amount"),d.Qb(),d.Rb(7,"ion-col",12),d.qc(8),d.Qb(),d.Rb(9,"ion-col",11),d.qc(10,"Discount received from us"),d.Qb(),d.Rb(11,"ion-col",28),d.qc(12),d.Qb(),d.Rb(13,"ion-col",11),d.qc(14,"Net Amount"),d.Qb(),d.Rb(15,"ion-col",12),d.qc(16),d.Qb(),d.Rb(17,"ion-col",11),d.qc(18,"Discount Applied"),d.Qb(),d.Rb(19,"ion-col",18),d.qc(20),d.Qb(),d.Rb(21,"ion-col",11),d.qc(22,"Service Charge"),d.Qb(),d.Rb(23,"ion-col",18),d.qc(24),d.Qb(),d.Rb(25,"ion-col",29),d.qc(26,"Final Amount"),d.Qb(),d.Rb(27,"ion-col",30),d.qc(28),d.Qb(),d.Qb(),d.oc(29,C,3,0,"ng-container",17),d.Qb()),2&e){const e=d.bc();d.Ab(2),d.ec("ngIf","CONFIRMED"===(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.Ab(1),d.ec("ngIf","CANCELLED"===(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.Ab(1),d.ec("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.Ab(4),d.sc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.oldTotal,""),d.Ab(4),d.sc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.discountReceived,""),d.Ab(4),d.sc("\u20b9 ",(null==e.viewOrder?null:e.viewOrder.netAmount)-(null==e.viewOrder?null:e.viewOrder.serviceCharge),""),d.Ab(4),d.sc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.discountApplied,""),d.Ab(4),d.sc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.serviceCharge,""),d.Ab(4),d.sc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.finalTotal,""),d.Ab(1),d.ec("ngIf","ORDERED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}const P=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i,r,c){this.common=e,this.orderApi=t,this.api=o,this.Activatedroute=n,this.cartapi=i,this.loadingController=r,this.router=c,this.viewRate=!0,this.totalvalue=0,this.isOrderLoaded=!1}openSearchModal(){this.common.openModal()}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){this.quantity=localStorage.getItem("grocericaQuantity")}))}particularProductAccess(){"COMPLETED"===this.viewOrder.orderStatus&&this.getReview(this.viewOrder.orderId);for(let e=0;e<this.viewOrder.products.length;e++)this.viewOrder.products[e].total=this.viewOrder.products[e].newPrice*this.viewOrder.products[e].quantity,this.totalvalue=this.viewOrder.products[e].total+this.totalvalue}cancelOrder(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Please wait..."});t.present(),this.orderApi.cancelOrder(e).subscribe(e=>Object(l.a)(this,void 0,void 0,(function*(){t.dismiss(),localStorage.setItem("grocericaViewCart",JSON.stringify(e)),this.common.presentToast("Your order is successfully cancelled"),this.router.navigate(["/home"])})),e=>{t.dismiss(),this.common.presentToast("Something Went Wrong")})}))}review(e){localStorage.setItem("reviewProduct",JSON.stringify(e)),this.router.navigate(["/rating"])}getReview(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Please wait..."});t.present(),this.api.getFeedback(e).subscribe(e=>{t.dismiss(),this.feedback=e,this.viewRate=!1},e=>{t.dismiss()})}))}viewFeedback(e){const t=Object.assign(this.feedback,e);localStorage.setItem("viewFeedback",JSON.stringify(t)),this.router.navigate(["/feedback"])}ionViewWillEnter(){return Object(l.a)(this,void 0,void 0,(function*(){this.quantity=localStorage.getItem("grocericaQuantity"),this.Activatedroute.paramMap.subscribe(e=>{this.id=e.get("id")});let e=this.orderApi.particularOrder(this.id);const t=yield this.loadingController.create({message:"Please wait..."});t.present(),e.subscribe(e=>{t.dismiss(),this.isOrderLoaded=!0,this.viewOrder=e,this.viewOrder.discountReceived=this.viewOrder.oldTotal-(this.viewOrder.finalTotal+this.viewOrder.discountApplied),this.viewOrder.netAmount=this.viewOrder.oldTotal-this.viewOrder.discountReceived,this.viewOrder&&this.particularProductAccess()},e=>{t.dismiss()})}))}calculateDiscountReceived(e){return e.oldTotal-(e.finalTotal+e.discountApplied)}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(b.a),d.Lb(a.a),d.Lb(s.a),d.Lb(c.a),d.Lb(u.a),d.Lb(r.N),d.Lb(c.g))},e.\u0275cmp=d.Fb({type:e,selectors:[["app-view-order"]],decls:8,vars:2,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/all-order"],[2,"font-size","20px"],["class","appBackground",4,"ngIf"],["style","background-color: rgb(6, 15, 66);",4,"ngIf"],[1,"appBackground"],[1,"order-row"],[1,"order-col"],[2,"font-weight","bold"],[1,"order-title"],["size","6"],["size","6","id","order-value"],["size","6","id","order-value","style","color: #1FCA1C;",4,"ngIf"],[1,"order-item"],["style","border-bottom: 1px solid aquamarine;",4,"ngFor","ngForOf"],[2,"margin-left","20px","margin-right","20px"],[4,"ngIf"],["size","6","id","order-value",2,"color","#1FCA1C"],[2,"border-bottom","1px solid aquamarine"],["size","3"],["alt","grocrica",3,"src"],[2,"margin-top","25px"],[2,"margin-left","15px"],[2,"text-align","end","padding-right","10px"],[2,"margin-right","560px",3,"click"],[2,"background-color","rgb(6, 15, 66)"],["id","text-color",1,"order-total"],["size","6","id","order-value",2,"color","#cabe1c"],["size","6",2,"font-weight","bold"],["size","6","id","order-value",2,"font-weight","bold"],["size","6","id","order-value",2,"color","red"],[1,"button","des-button",3,"click"]],template:function(e,t){1&e&&(d.Rb(0,"ion-header"),d.Rb(1,"ion-toolbar",0),d.Rb(2,"ion-buttons",1),d.Mb(3,"ion-icon",2),d.Qb(),d.Rb(4,"ion-title",3),d.qc(5,"VIEW ORDER"),d.Qb(),d.Qb(),d.Qb(),d.oc(6,R,35,9,"ion-content",4),d.oc(7,q,30,10,"div",5)),2&e&&(d.Ab(6),d.ec("ngIf",t.isOrderLoaded),d.Ab(1),d.ec("ngIf",t.isOrderLoaded))},directives:[r.o,r.K,r.f,r.p,r.S,c.h,r.J,n.k,r.j,r.n,r.B,r.i,r.g,n.j,r.e],styles:["ion-title[_ngcontent-%COMP%]{font-style:normal;font-weight:bolder;font-size:28px;line-height:30px;text-align:left;position:absolute;bottom:9px}.order-row[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;color:#fff}.order-row[_ngcontent-%COMP%]{text-align:center;padding-right:10px;padding-left:10px;font-weight:700;margin-top:10px;padding-bottom:10px;border-bottom:2px solid #2f83e2}.order-col[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:400}.order-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-size:17px;color:#fff;font-weight:700;padding-left:15px;padding-top:6px;border-bottom:2px solid #2f83e2;padding-bottom:10px}#order-value[_ngcontent-%COMP%]{text-align:end;padding-right:15px}.order-item[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-right:10px;padding-left:10px;font-weight:700;font-family:OpenSans-Light;margin-top:10px}#text-color[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:50px;font-size:20px;font-family:OpenSans-Light;font-weight:700;background-color:#6b00c2;margin-top:30px;margin-bottom:20px}.button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{border-radius:15px}ion-card[_ngcontent-%COMP%]{background:#1f2238;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}img[_ngcontent-%COMP%]{width:30px;width:95px;height:95px;padding:4px;border-radius:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#c3c3c3}.order-total[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-weight:700}.order-total[_ngcontent-%COMP%]{font-style:normal;font-size:17px;color:#fff;padding-left:15px;padding-top:6px}@media only screen and (max-width:360px){ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:20px;line-height:30px;color:#fff;margin-left:-10px;margin-bottom:3px}}"]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},imports:[[c.i.forChild(P)],c.i]}),e})();var L=o("tk/3");let y=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[a.a,b.a,u.a],imports:[[n.b,i.d,r.L,L.b,S]]}),e})()}}]);