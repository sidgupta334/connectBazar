function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,o){return n&&_defineProperties(e.prototype,n),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{cRhG:function(e,n,o){"use strict";o.r(n),o.d(n,"ProfilePageModule",(function(){return x}));var t=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),b=o("tyNb"),l=o("mrSG"),c=o("fXoL"),a=o("Wdxn"),s=o("4Xmu");function f(e,n){1&e&&c.Nb(0)}function u(e,n){1&e&&c.Nb(0)}function d(e,n){if(1&e){var o=c.Sb();c.Rb(0,"h1"),c.qc(1,"View Your Profile"),c.Qb(),c.Rb(2,"ion-card",14),c.Rb(3,"div",15),c.Rb(4,"p"),c.qc(5),c.Qb(),c.Qb(),c.Rb(6,"ion-list"),c.Rb(7,"ion-item",16),c.Rb(8,"ion-label",17),c.qc(9,"Name: "),c.Rb(10,"span",18),c.qc(11),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"ion-item",16),c.Rb(13,"ion-label",17),c.qc(14,"DOB: "),c.Rb(15,"span",18),c.qc(16),c.Qb(),c.Qb(),c.Qb(),c.Rb(17,"ion-item",16),c.Rb(18,"ion-label",17),c.qc(19,"Email Id: "),c.Rb(20,"span",18),c.qc(21),c.Qb(),c.Qb(),c.Qb(),c.Rb(22,"ion-item",16),c.Rb(23,"ion-label",17),c.qc(24,"Phone No: "),c.Rb(25,"span",18),c.qc(26),c.Qb(),c.Qb(),c.Qb(),c.Rb(27,"ion-item",16),c.Rb(28,"ion-label",17),c.qc(29,"Gender: "),c.Rb(30,"span",18),c.qc(31),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(32,"ion-fab",19),c.Rb(33,"ion-fab-button",20),c.Zb("click",(function(){return c.lc(o),c.bc().editProfile()})),c.Mb(34,"img",21),c.Qb(),c.Qb()}if(2&e){var t=c.bc();c.Ab(5),c.rc(t.letter),c.Ab(6),c.rc(null==t.user?null:t.user.fullName),c.Ab(5),c.rc(null==t.user?null:t.user.dob),c.Ab(5),c.rc(null==t.user?null:t.user.email),c.Ab(5),c.rc(null==t.user?null:t.user.mobile),c.Ab(5),c.rc(null==t.user?null:t.user.gender)}}function p(e,n){1&e&&(c.Rb(0,"div"),c.qc(1,"*Name is required"),c.Qb())}function m(e,n){if(1&e&&(c.Rb(0,"div",33),c.oc(1,p,2,0,"div",13),c.Qb()),2&e){var o=c.bc(2);c.Ab(1),c.ec("ngIf",o.f.name.errors.required)}}function h(e,n){1&e&&(c.Rb(0,"div",35),c.qc(1," *Dob is required "),c.Qb())}function g(e,n){if(1&e&&(c.Rb(0,"div",33),c.oc(1,h,2,0,"div",34),c.Qb()),2&e){var o=c.bc(2);c.Ab(1),c.ec("ngIf",o.f.dob.errors.required)}}function R(e,n){if(1&e&&(c.Rb(0,"form",22),c.Rb(1,"h1"),c.qc(2,"Edit Your Profile"),c.Qb(),c.Rb(3,"ion-card",14),c.Rb(4,"div",15),c.Rb(5,"p"),c.qc(6),c.Qb(),c.Qb(),c.Rb(7,"ion-list"),c.Rb(8,"ion-row"),c.Rb(9,"ion-col",23),c.Rb(10,"ion-item",16),c.Rb(11,"ion-label",24),c.qc(12," Name:"),c.Qb(),c.Mb(13,"ion-input",25),c.Qb(),c.oc(14,m,2,1,"div",26),c.Qb(),c.Qb(),c.Rb(15,"ion-row"),c.Rb(16,"ion-col",27),c.Rb(17,"ion-item",16),c.Rb(18,"ion-label",24),c.qc(19," DOB:"),c.Qb(),c.Mb(20,"ion-input",28),c.oc(21,g,2,1,"div",26),c.Qb(),c.Qb(),c.Qb(),c.Rb(22,"ion-row"),c.Rb(23,"ion-col",27),c.Rb(24,"ion-item",16),c.Rb(25,"ion-label",24),c.qc(26," Email Id:"),c.Qb(),c.Rb(27,"span",29),c.qc(28),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(29,"ion-row"),c.Rb(30,"ion-col",27),c.Rb(31,"ion-item",16),c.Rb(32,"ion-label",24),c.qc(33," Phone No:"),c.Qb(),c.Rb(34,"span",29),c.qc(35),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(36,"ion-row"),c.Rb(37,"ion-col",27),c.Rb(38,"ion-item",16),c.Rb(39,"ion-label",24),c.qc(40," Gender"),c.Qb(),c.Rb(41,"ion-select",30),c.Rb(42,"ion-select-option",31),c.qc(43,"Female"),c.Qb(),c.Rb(44,"ion-select-option",32),c.qc(45,"Male"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e){var o=c.bc();c.ec("formGroup",o.EditForm),c.Ab(6),c.rc(o.letter),c.Ab(8),c.ec("ngIf",o.checkValid&&o.f.name.errors),c.Ab(7),c.ec("ngIf",o.checkValid&&o.f.dob.errors),c.Ab(7),c.sc(" ",null==o.user?null:o.user.email,""),c.Ab(7),c.rc(null==o.user?null:o.user.mobile)}}function Q(e,n){if(1&e){var o=c.Sb();c.Rb(0,"div"),c.Rb(1,"button",36),c.Zb("click",(function(){c.lc(o);var e=c.bc();return e.updateAddress(e.EditForm.value)})),c.qc(2,"Update Profile"),c.Qb(),c.Qb()}}var v,k,y,w=[{path:"",component:(v=function(){function e(n,o,t,i,r,b){_classCallCheck(this,e),this.common=n,this.formBuilder=o,this.datePipe=t,this.loadingController=i,this.api=r,this.router=b,this.showProfile=!0,this.checkValid=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.EditForm=this.formBuilder.group({dob:["",[i.l.required]],name:["",[i.l.required]],gender:["",[i.l.required]]})}},{key:"openModel",value:function(){this.common.openModal()}},{key:"getUserDetails",value:function(){var e=this;this.api.getUserDetails().subscribe((function(n){e.user=n,e.letter=e.user.fullName.slice(0,1);var o=e.datePipe.transform(e.user.dob,"yyyy-MM-dd");e.user.dob=o}),(function(n){401===n.status&&(e.common.presentToast("Session expired, please login again"),e.router.navigate(["/login"]))}))}},{key:"editProfile",value:function(){this.showProfile=!1,this.EditForm.controls.name.setValue(this.user.fullName),this.EditForm.controls.dob.setValue(this.datePipe.transform(this.user.dob,"yyyy-MM-dd")),this.EditForm.controls.gender.setValue(this.user.gender)}},{key:"updateAddress",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.userId=this.user.userId,e.email=this.user.email,e.mobile=this.user.mobile,this.checkValid=!0,!this.EditForm.invalid){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,this.loadingController.create({message:"Updating..."});case 4:(o=n.sent).present(),this.api.updateProfile(e).subscribe((function(e){e&&(o.dismiss(),t.common.presentToast("Profile is updated"),t.showProfile=!0,t.getUserDetails())}),(function(e){o.dismiss(),t.common.presentToast("Something went wrong? Try Again")}));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"ionViewWillEnter",value:function(){this.quantity=localStorage.getItem("grocericaQuantity"),this.getUserDetails()}},{key:"f",get:function(){return this.EditForm.controls}}]),e}(),v.\u0275fac=function(e){return new(e||v)(c.Lb(a.a),c.Lb(i.a),c.Lb(t.d),c.Lb(r.N),c.Lb(s.a),c.Lb(b.g))},v.\u0275cmp=c.Fb({type:v,selectors:[["app-profile"]],decls:21,vars:6,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/home"],["slot","end","tab","search"],[3,"click"],["name","search",1,"search-icon"],["routerLink","/cart",2,"margin-left","6px","position","relative"],["name","cart",2,"font-size","24px"],["slot","end",2,"border-radius","50%"],[1,"appBackground"],[4,"ngIf","ngIfThen"],["show",""],["editForm",""],[4,"ngIf"],[2,"margin-top","25px"],[1,"nameCol"],["lines","none"],[2,"color","#fff","font-size","20px","font-family","OpenSans-Light"],[2,"font-weight","bolder"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"des-button",2,"border-radius","40px",3,"click"],["src","../../assets/edit.png",2,"color","white","font-weight","bold"],[3,"formGroup"],[1,"ion-float-right",2,"border-bottom","1px solid #fff"],["position","fixed",2,"color","#fff"],["type","text","formControlName","name"],["id","errorStyle","class","invalid-feedback",4,"ngIf"],[2,"border-bottom","1px solid #fff"],["type","text","formControlName","dob"],[2,"font-weight","bolder","color","#fff"],["placeholder","Select","formControlName","gender",2,"color","#fff","position","absolute","right","10px"],["value","female",2,"color","#fff"],["value","male",2,"color","#fff"],["id","errorStyle",1,"invalid-feedback"],["style","color: red;",4,"ngIf"],[2,"color","red"],["type","ngSubmit",1,"updateButton",3,"click"]],template:function(e,n){if(1&e&&(c.Rb(0,"ion-header"),c.Rb(1,"ion-toolbar",0),c.Rb(2,"ion-buttons",1),c.Mb(3,"ion-icon",2),c.Qb(),c.Rb(4,"ion-title"),c.qc(5,"Profile"),c.Qb(),c.Rb(6,"ion-buttons",3),c.Rb(7,"ion-button",4),c.Zb("click",(function(){return n.openModel()})),c.Mb(8,"ion-icon",5),c.Qb(),c.Rb(9,"ion-button",6),c.Mb(10,"ion-icon",7),c.Rb(11,"ion-badge",8),c.qc(12),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(13,"ion-content",9),c.oc(14,f,1,0,"ng-container",10),c.oc(15,u,1,0,"ng-container",10),c.oc(16,d,35,6,"ng-template",null,11,c.pc),c.oc(18,R,46,6,"ng-template",null,12,c.pc),c.Qb(),c.oc(20,Q,3,0,"div",13)),2&e){var o=c.kc(17),t=c.kc(19);c.Ab(12),c.rc(n.quantity),c.Ab(2),c.ec("ngIf",n.showProfile)("ngIfThen",o),c.Ab(1),c.ec("ngIf",!n.showProfile)("ngIfThen",t),c.Ab(5),c.ec("ngIf",!n.showProfile)}},directives:[r.o,r.K,r.f,r.p,r.S,b.h,r.J,r.e,r.d,r.j,t.k,r.g,r.t,r.r,r.s,r.l,r.m,i.m,i.i,i.c,r.B,r.i,r.q,r.U,i.h,i.b,r.D,r.T,r.E],styles:["h1[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:700;font-size:26px;line-height:30px;text-align:center;color:#fff}.nameCol[_ngcontent-%COMP%]{height:113px;width:121px;background:radial-gradient(50% 50% at 50% 50%,#227c98 0,rgba(70,211,255,0) 100%);display:block;margin-left:auto;margin-right:auto}p[_ngcontent-%COMP%]{text-align:center;padding:21px;font-size:50px;color:#fff;font-weight:bolder}ion-list[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-top:20px}ion-list[_ngcontent-%COMP%]{background-color:transparent}ion-item[_ngcontent-%COMP%]{--background:transparent!important;background-color:transparent;--border-color:#fff;height:70px}img[_ngcontent-%COMP%]{color:#fff;height:40px}.updateButton[_ngcontent-%COMP%]{width:100%;height:50px;font-size:20px;font-family:OpenSans-Light;color:#fff;font-weight:700;background-color:#6b00c2}ion-input[_ngcontent-%COMP%]{color:#fff}"]}),v)}],q=((k=function e(){_classCallCheck(this,e)}).\u0275mod=c.Jb({type:k}),k.\u0275inj=c.Ib({factory:function(e){return new(e||k)},imports:[[b.i.forChild(w)],b.i]}),k),P=o("tk/3"),x=((y=function e(){_classCallCheck(this,e)}).\u0275mod=c.Jb({type:y}),y.\u0275inj=c.Ib({factory:function(e){return new(e||y)},providers:[a.a,s.a,t.d],imports:[[t.b,i.d,r.L,P.b,i.k,q]]}),y)}}]);