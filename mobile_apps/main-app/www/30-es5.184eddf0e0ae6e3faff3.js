function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{oFOw:function(e,n,t){"use strict";t.r(n),t.d(n,"ViewOrderPageModule",(function(){return S}));var o=t("ofXK"),r=t("3Pt+"),i=t("TEn/"),c=t("tyNb"),l=t("mrSG"),a=t("fXoL"),d=t("Wdxn"),b=t("6zcV"),s=t("Bl/W"),u=t("Nagw");function O(e,n){if(1&e&&(a.Pb(0,"ion-row",20),a.Pb(1,"ion-col",21),a.Kb(2,"img",22),a.Ob(),a.Pb(3,"ion-col",9),a.Pb(4,"p"),a.nc(5),a.Pb(6,"span"),a.nc(7),a.Ob(),a.Ob(),a.Pb(8,"div",23),a.Pb(9,"p"),a.Pb(10,"span"),a.Pb(11,"del"),a.nc(12),a.Ob(),a.Ob(),a.Pb(13,"span",24),a.nc(14),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Pb(15,"ion-col"),a.Pb(16,"p",25),a.nc(17),a.Ob(),a.Ob(),a.Ob()),2&e){var t=n.$implicit;a.zb(2),a.cc("src",t.url,a.jc),a.zb(3),a.pc("",t.productName," "),a.zb(2),a.pc("(",t.brand,") "),a.zb(5),a.pc("\u20b9",t.oldPrice,""),a.zb(2),a.qc(" \u20b9 ",t.newPrice," \xd7 ",t.quantity," "),a.zb(3),a.pc("\u20b9 ",t.total,"")}}function f(e,n){if(1&e){var t=a.Qb();a.Nb(0),a.Pb(1,"ion-button",26),a.Xb("click",(function(){a.ic(t);var e=a.Zb(2);return e.review(e.viewOrder)})),a.nc(2,"RATE YOUR ORDER"),a.Ob(),a.Mb()}}function p(e,n){if(1&e&&(a.Nb(0),a.lc(1,f,3,0,"ng-container",14),a.Mb()),2&e){var t=a.Zb();a.zb(1),a.cc("ngIf","COMPLETED"===(null==t.viewOrder?null:t.viewOrder.orderStatus))}}function g(e,n){if(1&e){var t=a.Qb();a.Nb(0),a.Pb(1,"ion-button",26),a.Xb("click",(function(){a.ic(t);var e=a.Zb(2);return e.viewFeedback(e.viewOrder)})),a.nc(2,"View Feedback"),a.Ob(),a.Mb()}}function v(e,n){if(1&e&&(a.Nb(0),a.lc(1,g,3,0,"ng-container",14),a.Mb()),2&e){var t=a.Zb();a.zb(1),a.cc("ngIf","COMPLETED"===(null==t.viewOrder?null:t.viewOrder.orderStatus))}}function w(e,n){if(1&e&&(a.Nb(0),a.Pb(1,"ion-col",9),a.nc(2,"Status"),a.Ob(),a.Pb(3,"ion-col",10),a.nc(4),a.Ob(),a.Mb()),2&e){var t=a.Zb();a.zb(4),a.oc(null==t.viewOrder?null:t.viewOrder.orderStatus)}}function h(e,n){if(1&e&&(a.Nb(0),a.Pb(1,"ion-col",9),a.nc(2,"Status"),a.Ob(),a.Pb(3,"ion-col",27),a.nc(4),a.Ob(),a.Mb()),2&e){var t=a.Zb();a.zb(4),a.oc(null==t.viewOrder?null:t.viewOrder.orderStatus)}}function P(e,n){if(1&e&&(a.Nb(0),a.Pb(1,"ion-col",9),a.nc(2,"Status"),a.Ob(),a.Pb(3,"ion-col",11),a.nc(4),a.Ob(),a.Mb()),2&e){var t=a.Zb();a.zb(4),a.oc(null==t.viewOrder?null:t.viewOrder.orderStatus)}}function m(e,n){if(1&e){var t=a.Qb();a.Nb(0),a.Pb(1,"button",28),a.Xb("click",(function(){a.ic(t);var e=a.Zb();return e.cancelOrder(e.viewOrder)})),a.nc(2," Cancel Order"),a.Ob(),a.Mb()}}var x,C,z,y=[{path:"",component:(x=function(){function e(n,t,o,r,i,c,l){_classCallCheck(this,e),this.common=n,this.orderApi=t,this.api=o,this.Activatedroute=r,this.cartapi=i,this.loadingController=c,this.router=l,this.viewRate=!0,this.totalvalue=0}return _createClass(e,[{key:"openSearchModal",value:function(){this.common.openModal()}},{key:"ngOnInit",value:function(){var e=this;console.log(" view order"),this.cartapi.viewCart().subscribe((function(n){console.log("responnnse",n),e.quantity=n.netQuantity}))}},{key:"particularProductAccess",value:function(){"COMPLETED"===this.viewOrder.orderStatus&&(console.log("Hellll"),this.getReview(this.viewOrder.orderId));for(var e=0;e<this.viewOrder.products.length;e++)this.viewOrder.products[e].total=this.viewOrder.products[e].newPrice*this.viewOrder.products[e].quantity,this.totalvalue=this.viewOrder.products[e].total+this.totalvalue;console.log("total order value"+this.totalvalue)}},{key:"cancelOrder",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.next=3,this.loadingController.create({message:"Please wait..."});case 3:(t=n.sent).present(),this.orderApi.cancelOrder(e).subscribe((function(e){return Object(l.a)(o,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e),t.dismiss(),localStorage.setItem("grocericaViewCart",JSON.stringify(e)),this.common.presentToast("Your order is successfully cancelled"),this.common.scheduleNotification(e),this.ngOnInit();case 1:case"end":return n.stop()}}),n,this)})))}),(function(e){t.dismiss(),o.common.presentToast("Something Went Wrong")}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"review",value:function(e){console.log(e),localStorage.setItem("reviewProduct",JSON.stringify(e)),this.router.navigate(["/rating"])}},{key:"getReview",value:function(e){var n=this;console.log("review"),this.api.getFeedback(e).subscribe((function(e){console.log(e),n.feedback=e,n.viewRate=!1}))}},{key:"viewFeedback",value:function(e){var n=Object.assign(this.feedback,e);console.log(n),localStorage.setItem("viewFeedback",JSON.stringify(n)),this.router.navigate(["/feedback"])}},{key:"ionViewWillEnter",value:function(){var e=this;this.Activatedroute.paramMap.subscribe((function(n){e.id=n.get("id"),console.log(e.id)})),this.orderApi.particularOrder(this.id).subscribe((function(n){console.log("particular product",n),e.viewOrder=n,e.viewOrder.discountReceived=e.viewOrder.oldTotal-(e.viewOrder.finalTotal+e.viewOrder.discountApplied),e.viewOrder.netAmount=e.viewOrder.oldTotal-e.viewOrder.discountReceived,e.viewOrder&&e.particularProductAccess()}))}},{key:"calculateDiscountReceived",value:function(e){return e.oldTotal-(e.finalTotal+e.discountApplied)}}]),e}(),x.\u0275fac=function(e){return new(e||x)(a.Jb(d.a),a.Jb(b.a),a.Jb(s.a),a.Jb(c.a),a.Jb(u.a),a.Jb(i.N),a.Jb(c.g))},x.\u0275cmp=a.Db({type:x,selectors:[["app-view-order"]],decls:63,vars:17,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/all-order"],[2,"font-size","20px"],[1,"appBackground"],[1,"order-row"],[1,"order-col"],[2,"font-weight","bold"],[1,"order-title"],["size","6"],["size","6","id","order-value"],["size","6","id","order-value",2,"color","#1FCA1C"],[1,"order-item"],["style","border-bottom: 1px solid aquamarine;",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"background-color","rgb(6, 15, 66)"],["id","text-color",1,"order-total"],["size","6","id","order-value",2,"color","#cabe1c"],["size","6",2,"font-weight","bold"],["size","6","id","order-value",2,"font-weight","bold"],[2,"border-bottom","1px solid aquamarine"],["size","3"],["alt","grocrica",3,"src"],[2,"margin-top","25px"],[2,"margin-left","15px"],[2,"text-align","end","padding-right","10px"],[2,"margin-right","560px",3,"click"],["size","6","id","order-value",2,"color","red"],[1,"button","des-button",3,"click"]],template:function(e,n){1&e&&(a.Pb(0,"ion-header"),a.Pb(1,"ion-toolbar",0),a.Pb(2,"ion-buttons",1),a.Kb(3,"ion-icon",2),a.Ob(),a.Pb(4,"ion-title",3),a.nc(5,"VIEW ORDER"),a.Ob(),a.Ob(),a.Ob(),a.Pb(6,"ion-content",4),a.Pb(7,"ion-grid"),a.Pb(8,"ion-row",5),a.Pb(9,"ion-col",6),a.nc(10,"Order ID: "),a.Pb(11,"span",7),a.nc(12),a.Ob(),a.Ob(),a.Ob(),a.Pb(13,"ion-row",8),a.Pb(14,"ion-col",9),a.nc(15,"Order Date"),a.Ob(),a.Pb(16,"ion-col",10),a.nc(17),a.Ob(),a.Pb(18,"ion-col",9),a.nc(19,"Delivery Date"),a.Ob(),a.Pb(20,"ion-col",10),a.nc(21),a.Ob(),a.Pb(22,"ion-col",9),a.nc(23,"Order Status"),a.Ob(),a.Pb(24,"ion-col",11),a.nc(25),a.Ob(),a.Pb(26,"ion-col",9),a.nc(27,"Item Count"),a.Ob(),a.Pb(28,"ion-col",10),a.nc(29),a.Ob(),a.Ob(),a.Ob(),a.Pb(30,"ion-row",12),a.Pb(31,"ion-col",6),a.nc(32,"ORDER ITEMS :"),a.Ob(),a.Ob(),a.Pb(33,"ion-card"),a.lc(34,O,18,7,"ion-row",13),a.Ob(),a.lc(35,p,2,1,"ng-container",14),a.lc(36,v,2,1,"ng-container",14),a.Ob(),a.Pb(37,"div",15),a.Pb(38,"ion-row",16),a.lc(39,w,5,1,"ng-container",14),a.lc(40,h,5,1,"ng-container",14),a.lc(41,P,5,1,"ng-container",14),a.Pb(42,"ion-col",9),a.nc(43,"Total Amount"),a.Ob(),a.Pb(44,"ion-col",10),a.nc(45),a.Ob(),a.Pb(46,"ion-col",9),a.nc(47,"Discount received from us"),a.Ob(),a.Pb(48,"ion-col",17),a.nc(49),a.Ob(),a.Pb(50,"ion-col",9),a.nc(51,"Net Amount"),a.Ob(),a.Pb(52,"ion-col",10),a.nc(53),a.Ob(),a.Pb(54,"ion-col",9),a.nc(55,"Discount Applied"),a.Ob(),a.Pb(56,"ion-col",11),a.nc(57),a.Ob(),a.Pb(58,"ion-col",18),a.nc(59,"Final Amount"),a.Ob(),a.Pb(60,"ion-col",19),a.nc(61),a.Ob(),a.Ob(),a.lc(62,m,3,0,"ng-container",14),a.Ob()),2&e&&(a.zb(12),a.oc(null==n.viewOrder?null:n.viewOrder.orderId),a.zb(5),a.oc(null==n.viewOrder?null:n.viewOrder.orderDate),a.zb(4),a.oc(null==n.viewOrder?null:n.viewOrder.deliveryDate),a.zb(4),a.oc(null==n.viewOrder?null:n.viewOrder.orderStatus),a.zb(4),a.oc(null==n.viewOrder?null:n.viewOrder.netQuantity),a.zb(5),a.cc("ngForOf",null==n.viewOrder?null:n.viewOrder.products),a.zb(1),a.cc("ngIf",1==n.viewRate),a.zb(1),a.cc("ngIf",0==n.viewRate),a.zb(3),a.cc("ngIf","CONFIRMED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),a.zb(1),a.cc("ngIf","CANCELLED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),a.zb(1),a.cc("ngIf","COMPLETED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)),a.zb(4),a.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.oldTotal,""),a.zb(4),a.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.discountReceived,""),a.zb(4),a.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.netAmount,""),a.zb(4),a.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.discountApplied,""),a.zb(4),a.pc("\u20b9 ",null==n.viewOrder?null:n.viewOrder.finalTotal,""),a.zb(1),a.cc("ngIf","ORDERED"===(null==n.viewOrder?null:n.viewOrder.orderStatus)))},directives:[i.o,i.K,i.f,i.p,i.S,c.h,i.J,i.j,i.n,i.B,i.i,i.g,o.j,o.k,i.e],styles:["ion-title[_ngcontent-%COMP%]{font-style:normal;font-weight:bolder;font-size:28px;line-height:30px;text-align:left;position:absolute;bottom:9px}.order-row[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;color:#fff}.order-row[_ngcontent-%COMP%]{text-align:center;padding-right:10px;padding-left:10px;font-weight:700;margin-top:10px;padding-bottom:10px;border-bottom:2px solid #7fffd4}.order-col[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:400}.order-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-size:17px;color:#fff;font-weight:700;padding-left:15px;padding-top:6px;border-bottom:2px solid #7fffd4}#order-value[_ngcontent-%COMP%]{text-align:end;padding-right:15px}.order-item[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-right:10px;padding-left:10px;font-weight:700;font-family:OpenSans-Light;margin-top:10px}#text-color[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:50px;font-size:20px;font-family:OpenSans-Light;font-weight:700;background-color:#6b00c2;margin-top:30px;margin-bottom:20px}.button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{border-radius:15px}ion-card[_ngcontent-%COMP%]{background:#1f2238;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}img[_ngcontent-%COMP%]{width:30px;width:95px;height:95px;padding:4px;border-radius:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#c3c3c3}.order-total[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-weight:700}.order-total[_ngcontent-%COMP%]{font-style:normal;font-size:17px;color:#fff;padding-left:15px;padding-top:6px}@media only screen and (max-width:360px){ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:20px;line-height:30px;color:#fff;margin-left:-10px;margin-bottom:3px}}"]}),x)}],k=((C=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:C}),C.\u0275inj=a.Gb({factory:function(e){return new(e||C)},imports:[[c.i.forChild(y)],c.i]}),C),M=t("tk/3"),S=((z=function e(){_classCallCheck(this,e)}).\u0275mod=a.Hb({type:z}),z.\u0275inj=a.Gb({factory:function(e){return new(e||z)},providers:[b.a,d.a,u.a],imports:[[o.b,r.d,i.L,M.b,k]]}),z)}}]);