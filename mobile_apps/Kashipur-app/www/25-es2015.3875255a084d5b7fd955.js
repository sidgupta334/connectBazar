(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{cRhG:function(o,n,e){"use strict";e.r(n),e.d(n,"ProfilePageModule",(function(){return v}));var t=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),b=e("tyNb"),l=e("mrSG"),c=e("fXoL"),s=e("Wdxn"),a=e("4Xmu");function f(o,n){1&o&&c.Lb(0)}function d(o,n){1&o&&c.Lb(0)}function u(o,n){if(1&o){const o=c.Qb();c.Pb(0,"h1"),c.nc(1,"View Your Profile"),c.Ob(),c.Pb(2,"ion-card",14),c.Pb(3,"div",15),c.Pb(4,"p"),c.nc(5),c.Ob(),c.Ob(),c.Pb(6,"ion-list"),c.Pb(7,"ion-item",16),c.Pb(8,"ion-label",17),c.nc(9,"Name: "),c.Pb(10,"span",18),c.nc(11),c.Ob(),c.Ob(),c.Ob(),c.Pb(12,"ion-item",16),c.Pb(13,"ion-label",17),c.nc(14,"DOB: "),c.Pb(15,"span",18),c.nc(16),c.Ob(),c.Ob(),c.Ob(),c.Pb(17,"ion-item",16),c.Pb(18,"ion-label",17),c.nc(19,"Email Id: "),c.Pb(20,"span",18),c.nc(21),c.Ob(),c.Ob(),c.Ob(),c.Pb(22,"ion-item",16),c.Pb(23,"ion-label",17),c.nc(24,"Phone No: "),c.Pb(25,"span",18),c.nc(26),c.Ob(),c.Ob(),c.Ob(),c.Pb(27,"ion-item",16),c.Pb(28,"ion-label",17),c.nc(29,"Gender: "),c.Pb(30,"span",18),c.nc(31),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(32,"ion-fab",19),c.Pb(33,"ion-fab-button",20),c.Xb("click",(function(){return c.ic(o),c.Zb().editProfile()})),c.Kb(34,"img",21),c.Ob(),c.Ob()}if(2&o){const o=c.Zb();c.zb(5),c.oc(o.letter),c.zb(6),c.oc(null==o.user?null:o.user.fullName),c.zb(5),c.oc(null==o.user?null:o.user.dob),c.zb(5),c.oc(null==o.user?null:o.user.email),c.zb(5),c.oc(null==o.user?null:o.user.mobile),c.zb(5),c.oc(null==o.user?null:o.user.gender)}}function m(o,n){1&o&&(c.Pb(0,"div"),c.nc(1,"*Name is required"),c.Ob())}function p(o,n){if(1&o&&(c.Pb(0,"div",33),c.lc(1,m,2,0,"div",13),c.Ob()),2&o){const o=c.Zb(2);c.zb(1),c.cc("ngIf",o.f.name.errors.required)}}function h(o,n){1&o&&(c.Pb(0,"div",35),c.nc(1," *Dob is required "),c.Ob())}function P(o,n){if(1&o&&(c.Pb(0,"div",33),c.lc(1,h,2,0,"div",34),c.Ob()),2&o){const o=c.Zb(2);c.zb(1),c.cc("ngIf",o.f.dob.errors.required)}}function g(o,n){if(1&o&&(c.Pb(0,"form",22),c.Pb(1,"h1"),c.nc(2,"Edit Your Profile"),c.Ob(),c.Pb(3,"ion-card",14),c.Pb(4,"div",15),c.Pb(5,"p"),c.nc(6),c.Ob(),c.Ob(),c.Pb(7,"ion-list"),c.Pb(8,"ion-row"),c.Pb(9,"ion-col",23),c.Pb(10,"ion-item",16),c.Pb(11,"ion-label",24),c.nc(12," Name:"),c.Ob(),c.Kb(13,"ion-input",25),c.Ob(),c.lc(14,p,2,1,"div",26),c.Ob(),c.Ob(),c.Pb(15,"ion-row"),c.Pb(16,"ion-col",27),c.Pb(17,"ion-item",16),c.Pb(18,"ion-label",24),c.nc(19," DOB:"),c.Ob(),c.Kb(20,"ion-input",28),c.lc(21,P,2,1,"div",26),c.Ob(),c.Ob(),c.Ob(),c.Pb(22,"ion-row"),c.Pb(23,"ion-col",27),c.Pb(24,"ion-item",16),c.Pb(25,"ion-label",24),c.nc(26," Email Id:"),c.Ob(),c.Pb(27,"span",29),c.nc(28),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(29,"ion-row"),c.Pb(30,"ion-col",27),c.Pb(31,"ion-item",16),c.Pb(32,"ion-label",24),c.nc(33," Phone No:"),c.Ob(),c.Pb(34,"span",29),c.nc(35),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(36,"ion-row"),c.Pb(37,"ion-col",27),c.Pb(38,"ion-item",16),c.Pb(39,"ion-label",24),c.nc(40," Gender"),c.Ob(),c.Pb(41,"ion-select",30),c.Pb(42,"ion-select-option",31),c.nc(43,"Female"),c.Ob(),c.Pb(44,"ion-select-option",32),c.nc(45,"Male"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&o){const o=c.Zb();c.cc("formGroup",o.EditForm),c.zb(6),c.oc(o.letter),c.zb(8),c.cc("ngIf",o.checkValid&&o.f.name.errors),c.zb(7),c.cc("ngIf",o.checkValid&&o.f.dob.errors),c.zb(7),c.pc(" ",null==o.user?null:o.user.email,""),c.zb(7),c.oc(null==o.user?null:o.user.mobile)}}function O(o,n){if(1&o){const o=c.Qb();c.Pb(0,"div"),c.Pb(1,"button",36),c.Xb("click",(function(){c.ic(o);const n=c.Zb();return n.updateAddress(n.EditForm.value)})),c.nc(2,"Update Profile"),c.Ob(),c.Ob()}}const w=[{path:"",component:(()=>{class o{constructor(o,n,e,t,i){this.common=o,this.formBuilder=n,this.datePipe=e,this.loadingController=t,this.api=i,this.showProfile=!0,this.checkValid=!1}ngOnInit(){this.EditForm=this.formBuilder.group({dob:["",[i.l.required]],name:["",[i.l.required]],gender:["",[i.l.required]]})}get f(){return this.EditForm.controls}openModel(){this.common.openModal()}getUserDetails(){this.api.getUserDetails().subscribe(o=>{this.user=o,this.letter=this.user.fullName.slice(0,1);let n=this.datePipe.transform(this.user.dob,"yyyy-MM-dd");this.user.dob=n})}editProfile(){this.showProfile=!1,this.EditForm.controls.name.setValue(this.user.fullName),this.EditForm.controls.dob.setValue(this.datePipe.transform(this.user.dob,"yyyy-MM-dd")),this.EditForm.controls.gender.setValue(this.user.gender)}updateAddress(o){return Object(l.a)(this,void 0,void 0,(function*(){if(o.userId=this.user.userId,o.email=this.user.email,o.mobile=this.user.mobile,this.checkValid=!0,this.EditForm.invalid)return;const n=yield this.loadingController.create({message:"Updating..."});n.present(),this.api.updateProfile(o).subscribe(o=>{o&&(n.dismiss(),this.common.presentToast("Profile is updated"),this.showProfile=!0,this.getUserDetails())},o=>{n.dismiss(),this.common.presentToast("Something went wrong? Try Again")})}))}ionViewWillEnter(){this.quantity=localStorage.getItem("grocericaQuantity"),this.getUserDetails()}}return o.\u0275fac=function(n){return new(n||o)(c.Jb(s.a),c.Jb(i.a),c.Jb(t.d),c.Jb(r.N),c.Jb(a.a))},o.\u0275cmp=c.Db({type:o,selectors:[["app-profile"]],decls:21,vars:6,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/home"],["slot","end","tab","search"],[3,"click"],["name","search",1,"search-icon"],["routerLink","/cart",2,"margin-left","6px","position","relative"],["name","cart",2,"font-size","24px"],["slot","end",2,"border-radius","50%"],[1,"appBackground"],[4,"ngIf","ngIfThen"],["show",""],["editForm",""],[4,"ngIf"],[2,"margin-top","25px"],[1,"nameCol"],["lines","none"],[2,"color","#fff","font-size","20px","font-family","OpenSans-Light"],[2,"font-weight","bolder"],["vertical","bottom","horizontal","end","slot","fixed"],[1,"des-button",2,"border-radius","40px",3,"click"],["src","../../assets/edit.png",2,"color","white","font-weight","bold"],[3,"formGroup"],[1,"ion-float-right",2,"border-bottom","1px solid #fff"],["position","fixed",2,"color","#fff"],["type","text","formControlName","name"],["id","errorStyle","class","invalid-feedback",4,"ngIf"],[2,"border-bottom","1px solid #fff"],["type","text","formControlName","dob"],[2,"font-weight","bolder","color","#fff"],["placeholder","Select","formControlName","gender",2,"color","#fff","position","absolute","right","10px"],["value","female",2,"color","#fff"],["value","male",2,"color","#fff"],["id","errorStyle",1,"invalid-feedback"],["style","color: red;",4,"ngIf"],[2,"color","red"],["type","ngSubmit",1,"updateButton",3,"click"]],template:function(o,n){if(1&o&&(c.Pb(0,"ion-header"),c.Pb(1,"ion-toolbar",0),c.Pb(2,"ion-buttons",1),c.Kb(3,"ion-icon",2),c.Ob(),c.Pb(4,"ion-title"),c.nc(5,"Profile"),c.Ob(),c.Pb(6,"ion-buttons",3),c.Pb(7,"ion-button",4),c.Xb("click",(function(){return n.openModel()})),c.Kb(8,"ion-icon",5),c.Ob(),c.Pb(9,"ion-button",6),c.Kb(10,"ion-icon",7),c.Pb(11,"ion-badge",8),c.nc(12),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(13,"ion-content",9),c.lc(14,f,1,0,"ng-container",10),c.lc(15,d,1,0,"ng-container",10),c.lc(16,u,35,6,"ng-template",null,11,c.mc),c.lc(18,g,46,6,"ng-template",null,12,c.mc),c.Ob(),c.lc(20,O,3,0,"div",13)),2&o){const o=c.hc(17),e=c.hc(19);c.zb(12),c.oc(n.quantity),c.zb(2),c.cc("ngIf",n.showProfile)("ngIfThen",o),c.zb(1),c.cc("ngIf",!n.showProfile)("ngIfThen",e),c.zb(5),c.cc("ngIf",!n.showProfile)}},directives:[r.o,r.K,r.f,r.p,r.S,b.h,r.J,r.e,r.d,r.j,t.k,r.g,r.t,r.r,r.s,r.l,r.m,i.m,i.i,i.c,r.B,r.i,r.q,r.U,i.h,i.b,r.D,r.T,r.E],styles:["h1[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:700;font-size:26px;line-height:30px;text-align:center;color:#fff}.nameCol[_ngcontent-%COMP%]{height:113px;width:121px;background:radial-gradient(50% 50% at 50% 50%,#227c98 0,rgba(70,211,255,0) 100%);display:block;margin-left:auto;margin-right:auto}p[_ngcontent-%COMP%]{text-align:center;padding:21px;font-size:50px;color:#fff;font-weight:bolder}ion-list[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-top:20px}ion-list[_ngcontent-%COMP%]{background-color:transparent}ion-item[_ngcontent-%COMP%]{--background:transparent!important;background-color:transparent;--border-color:#fff;height:70px}img[_ngcontent-%COMP%]{color:#fff;height:40px}.updateButton[_ngcontent-%COMP%]{width:100%;height:50px;font-size:20px;font-family:OpenSans-Light;color:#fff;font-weight:700;background-color:#6b00c2}ion-input[_ngcontent-%COMP%]{color:#fff}"]}),o})()}];let y=(()=>{class o{}return o.\u0275mod=c.Hb({type:o}),o.\u0275inj=c.Gb({factory:function(n){return new(n||o)},imports:[[b.i.forChild(w)],b.i]}),o})();var k=e("tk/3");let v=(()=>{class o{}return o.\u0275mod=c.Hb({type:o}),o.\u0275inj=c.Gb({factory:function(n){return new(n||o)},providers:[s.a,a.a,t.d],imports:[[t.b,i.d,r.L,k.b,i.k,y]]}),o})()}}]);