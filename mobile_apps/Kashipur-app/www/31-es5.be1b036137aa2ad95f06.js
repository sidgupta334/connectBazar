function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{oFOw:function(e,n,r){"use strict";r.r(n),r.d(n,"ViewOrderPageModule",(function(){return R}));var t=r("ofXK"),i=r("3Pt+"),o=r("TEn/"),c=r("tyNb"),a=r("mrSG"),l=r("fXoL"),d=r("Wdxn"),s=r("6zcV"),b=r("Bl/W"),u=r("Nagw");function O(e,n){1&e&&(l.Pb(0,"ion-col",17),l.nc(1,"CANCELLED"),l.Ob())}function f(e,n){if(1&e&&(l.Pb(0,"ion-col",17),l.nc(1),l.Ob()),2&e){var r=l.Zb(2);l.zb(1),l.oc(null==r.viewOrder?null:r.viewOrder.orderStatus)}}function p(e,n){if(1&e&&(l.Pb(0,"ion-row",18),l.Pb(1,"ion-col",19),l.Kb(2,"img",20),l.Ob(),l.Pb(3,"ion-col",11),l.Pb(4,"p"),l.nc(5),l.Pb(6,"span"),l.nc(7),l.Ob(),l.Ob(),l.Pb(8,"div",21),l.Pb(9,"p"),l.Pb(10,"span"),l.Pb(11,"del"),l.nc(12),l.Ob(),l.Ob(),l.Pb(13,"span",22),l.nc(14),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(15,"ion-col"),l.Pb(16,"p",23),l.nc(17),l.Ob(),l.Ob(),l.Ob()),2&e){var r=n.$implicit;l.zb(2),l.cc("src",r.url,l.jc),l.zb(3),l.pc("",r.productName," "),l.zb(2),l.pc("(",r.brand,") "),l.zb(5),l.pc("\u20b9",r.oldPrice,""),l.zb(2),l.qc(" \u20b9 ",r.newPrice," \xd7 ",r.quantity," "),l.zb(3),l.pc("\u20b9 ",r.total,"")}}function g(e,n){if(1&e){var r=l.Qb();l.Nb(0),l.Pb(1,"ion-button",24),l.Xb("click",(function(){l.ic(r);var e=l.Zb(3);return e.review(e.viewOrder)})),l.nc(2,"RATE YOUR ORDER"),l.Ob(),l.Mb()}}function v(e,n){if(1&e&&(l.Nb(0),l.lc(1,g,3,0,"ng-container",16),l.Mb()),2&e){var r=l.Zb(2);l.zb(1),l.cc("ngIf","COMPLETED"===(null==r.viewOrder?null:r.viewOrder.orderStatus))}}function w(e,n){if(1&e){var r=l.Qb();l.Nb(0),l.Pb(1,"ion-button",24),l.Xb("click",(function(){l.ic(r);var e=l.Zb(3);return e.viewFeedback(e.viewOrder)})),l.nc(2,"View Feedback"),l.Ob(),l.Mb()}}function h(e,n){if(1&e&&(l.Nb(0),l.lc(1,w,3,0,"ng-container",16),l.Mb()),2&e){var r=l.Zb(2);l.zb(1),l.cc("ngIf","COMPLETED"===(null==r.viewOrder?null:r.viewOrder.orderStatus))}}function m(e,n){if(1&e&&(l.Pb(0,"ion-content",6),l.Pb(1,"ion-grid"),l.Pb(2,"ion-row",7),l.Pb(3,"ion-col",8),l.nc(4,"Order ID: "),l.Pb(5,"span",9),l.nc(6),l.Ob(),l.Ob(),l.Ob(),l.Pb(7,"ion-row",10),l.Pb(8,"ion-col",11),l.nc(9,"Order Date"),l.Ob(),l.Pb(10,"ion-col",12),l.nc(11),l.Ob(),l.Pb(12,"ion-col",11),l.nc(13,"Order Status"),l.Ob(),l.lc(14,O,2,0,"ion-col",13),l.lc(15,f,2,1,"ion-col",13),l.Pb(16,"ion-col",11),l.nc(17,"Item Count"),l.Ob(),l.Pb(18,"ion-col",12),l.nc(19),l.Ob(),l.Ob(),l.Ob(),l.Pb(20,"ion-row",14),l.Pb(21,"ion-col",8),l.nc(22,"ORDER ITEMS :"),l.Ob(),l.Ob(),l.Pb(23,"ion-card"),l.lc(24,p,18,7,"ion-row",15),l.Ob(),l.lc(25,v,2,1,"ng-container",16),l.lc(26,h,2,1,"ng-container",16),l.Ob()),2&e){var r=l.Zb();l.zb(6),l.oc(null==r.viewOrder?null:r.viewOrder.orderId),l.zb(5),l.oc(null==r.viewOrder?null:r.viewOrder.orderDate),l.zb(3),l.cc("ngIf","CANCELLED_COD"==(null==r.viewOrder?null:r.viewOrder.orderStatus)||"CANCELLED_ONLINE"==(null==r.viewOrder?null:r.viewOrder.orderStatus)),l.zb(1),l.cc("ngIf","CANCELLED_COD"!==(null==r.viewOrder?null:r.viewOrder.orderStatus)&&"CANCELLED_ONLINE"!==(null==r.viewOrder?null:r.viewOrder.orderStatus)),l.zb(4),l.oc(null==r.viewOrder?null:r.viewOrder.netQuantity),l.zb(5),l.cc("ngForOf",null==r.viewOrder?null:r.viewOrder.products),l.zb(1),l.cc("ngIf",1==r.viewRate),l.zb(1),l.cc("ngIf",0==r.viewRate)}}function P(e,n){if(1&e&&(l.Nb(0),l.Pb(1,"ion-col",11),l.nc(2,"Status"),l.Ob(),l.Pb(3,"ion-col",12),l.nc(4),l.Ob(),l.Mb()),2&e){var r=l.Zb(2);l.zb(4),l.oc(null==r.viewOrder?null:r.viewOrder.orderStatus)}}function C(e,n){if(1&e&&(l.Nb(0),l.Pb(1,"ion-col",11),l.nc(2,"Status"),l.Ob(),l.Pb(3,"ion-col",30),l.nc(4),l.Ob(),l.Mb()),2&e){var r=l.Zb(2);l.zb(4),l.oc(null==r.viewOrder?null:r.viewOrder.orderStatus)}}function x(e,n){if(1&e&&(l.Nb(0),l.Pb(1,"ion-col",11),l.nc(2,"Status"),l.Ob(),l.Pb(3,"ion-col",17),l.nc(4),l.Ob(),l.Mb()),2&e){var r=l.Zb(2);l.zb(4),l.oc(null==r.viewOrder?null:r.viewOrder.orderStatus)}}function z(e,n){if(1&e){var r=l.Qb();l.Nb(0),l.Pb(1,"button",31),l.Xb("click",(function(){l.ic(r);var e=l.Zb(2);return e.cancelOrder(e.viewOrder)})),l.nc(2," Cancel Order"),l.Ob(),l.Mb()}}function k(e,n){if(1&e&&(l.Pb(0,"div",25),l.Pb(1,"ion-row",26),l.lc(2,P,5,1,"ng-container",16),l.lc(3,C,5,1,"ng-container",16),l.lc(4,x,5,1,"ng-container",16),l.Pb(5,"ion-col",11),l.nc(6,"Total Amount"),l.Ob(),l.Pb(7,"ion-col",12),l.nc(8),l.Ob(),l.Pb(9,"ion-col",11),l.nc(10,"Discount received from us"),l.Ob(),l.Pb(11,"ion-col",27),l.nc(12),l.Ob(),l.Pb(13,"ion-col",11),l.nc(14,"Net Amount"),l.Ob(),l.Pb(15,"ion-col",12),l.nc(16),l.Ob(),l.Pb(17,"ion-col",11),l.nc(18,"Discount Applied"),l.Ob(),l.Pb(19,"ion-col",17),l.nc(20),l.Ob(),l.Pb(21,"ion-col",11),l.nc(22,"Service Charge"),l.Ob(),l.Pb(23,"ion-col",12),l.nc(24),l.Ob(),l.Pb(25,"ion-col",28),l.nc(26,"Final Amount"),l.Ob(),l.Pb(27,"ion-col",29),l.nc(28),l.Ob(),l.Ob(),l.lc(29,z,3,0,"ng-container",16),l.Ob()),2&e){var r=l.Zb();l.zb(2),l.cc("ngIf","CONFIRMED"===(null==r.viewOrder?null:r.viewOrder.orderStatus)),l.zb(1),l.cc("ngIf","CANCELLED"===(null==r.viewOrder?null:r.viewOrder.orderStatus)),l.zb(1),l.cc("ngIf","COMPLETED"===(null==r.viewOrder?null:r.viewOrder.orderStatus)),l.zb(4),l.pc("\u20b9 ",null==r.viewOrder?null:r.viewOrder.oldTotal,""),l.zb(4),l.pc(" - \u20b9 ",null==r.viewOrder?null:r.viewOrder.discountReceived,""),l.zb(4),l.pc("\u20b9 ",null==r.viewOrder?null:r.viewOrder.netAmount,""),l.zb(4),l.pc(" - \u20b9 ",null==r.viewOrder?null:r.viewOrder.discountApplied,""),l.zb(4),l.pc(" + \u20b9 ",null==r.viewOrder?null:r.viewOrder.serviceCharge,""),l.zb(4),l.pc("\u20b9 ",null==r.viewOrder?null:r.viewOrder.finalTotal,""),l.zb(1),l.cc("ngIf","ORDERED"===(null==r.viewOrder?null:r.viewOrder.orderStatus))}}var y,M,S,E=[{path:"",component:(y=function(){function e(n,r,t,i,o,c,a){_classCallCheck(this,e),this.common=n,this.orderApi=r,this.api=t,this.Activatedroute=i,this.cartapi=o,this.loadingController=c,this.router=a,this.viewRate=!0,this.totalvalue=0,this.isOrderLoaded=!1}return _createClass(e,[{key:"openSearchModal",value:function(){this.common.openModal()}},{key:"ngOnInit",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.quantity=localStorage.getItem("grocericaQuantity");case 1:case"end":return e.stop()}}),e,this)})))}},{key:"particularProductAccess",value:function(){"COMPLETED"===this.viewOrder.orderStatus&&this.getReview(this.viewOrder.orderId);for(var e=0;e<this.viewOrder.products.length;e++)this.viewOrder.products[e].total=this.viewOrder.products[e].newPrice*this.viewOrder.products[e].quantity,this.totalvalue=this.viewOrder.products[e].total+this.totalvalue}},{key:"cancelOrder",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.create({message:"Please wait..."});case 2:(r=n.sent).present(),this.orderApi.cancelOrder(e).subscribe((function(e){return Object(a.a)(t,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.dismiss(),localStorage.setItem("grocericaViewCart",JSON.stringify(e)),this.common.presentToast("Your order is successfully cancelled"),this.router.navigate(["/home"]);case 1:case"end":return n.stop()}}),n,this)})))}),(function(e){r.dismiss(),t.common.presentToast("Something Went Wrong")}));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"review",value:function(e){localStorage.setItem("reviewProduct",JSON.stringify(e)),this.router.navigate(["/rating"])}},{key:"getReview",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.create({message:"Please wait..."});case 2:(r=n.sent).present(),this.api.getFeedback(e).subscribe((function(e){r.dismiss(),t.feedback=e,t.viewRate=!1}));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"viewFeedback",value:function(e){var n=Object.assign(this.feedback,e);localStorage.setItem("viewFeedback",JSON.stringify(n)),this.router.navigate(["/feedback"])}},{key:"ionViewWillEnter",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Activatedroute.paramMap.subscribe((function(e){t.id=e.get("id")})),n=this.orderApi.particularOrder(this.id),e.next=4,this.loadingController.create({message:"Please wait..."});case 4:(r=e.sent).present(),n.subscribe((function(e){r.dismiss(),t.isOrderLoaded=!0,t.viewOrder=e,t.viewOrder.discountReceived=t.viewOrder.oldTotal-(t.viewOrder.finalTotal+t.viewOrder.discountApplied-t.viewOrder.serviceCharge),t.viewOrder.netAmount=t.viewOrder.oldTotal-t.viewOrder.discountReceived,t.viewOrder&&t.particularProductAccess()}),(function(e){r.dismiss()}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"calculateDiscountReceived",value:function(e){return e.oldTotal-(e.finalTotal+e.discountApplied)}}]),e}(),y.\u0275fac=function(e){return new(e||y)(l.Jb(d.a),l.Jb(s.a),l.Jb(b.a),l.Jb(c.a),l.Jb(u.a),l.Jb(o.N),l.Jb(c.g))},y.\u0275cmp=l.Db({type:y,selectors:[["app-view-order"]],decls:8,vars:2,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/all-order"],[2,"font-size","20px"],["class","appBackground",4,"ngIf"],["style","background-color: rgb(6, 15, 66);",4,"ngIf"],[1,"appBackground"],[1,"order-row"],[1,"order-col"],[2,"font-weight","bold"],[1,"order-title"],["size","6"],["size","6","id","order-value"],["size","6","id","order-value","style","color: #1FCA1C;",4,"ngIf"],[1,"order-item"],["style","border-bottom: 1px solid aquamarine;",4,"ngFor","ngForOf"],[4,"ngIf"],["size","6","id","order-value",2,"color","#1FCA1C"],[2,"border-bottom","1px solid aquamarine"],["size","3"],["alt","grocrica",3,"src"],[2,"margin-top","25px"],[2,"margin-left","15px"],[2,"text-align","end","padding-right","10px"],[2,"margin-right","560px",3,"click"],[2,"background-color","rgb(6, 15, 66)"],["id","text-color",1,"order-total"],["size","6","id","order-value",2,"color","#cabe1c"],["size","6",2,"font-weight","bold"],["size","6","id","order-value",2,"font-weight","bold"],["size","6","id","order-value",2,"color","red"],[1,"button","des-button",3,"click"]],template:function(e,n){1&e&&(l.Pb(0,"ion-header"),l.Pb(1,"ion-toolbar",0),l.Pb(2,"ion-buttons",1),l.Kb(3,"ion-icon",2),l.Ob(),l.Pb(4,"ion-title",3),l.nc(5,"VIEW ORDER"),l.Ob(),l.Ob(),l.Ob(),l.lc(6,m,27,8,"ion-content",4),l.lc(7,k,30,10,"div",5)),2&e&&(l.zb(6),l.cc("ngIf",n.isOrderLoaded),l.zb(1),l.cc("ngIf",n.isOrderLoaded))},directives:[o.o,o.K,o.f,o.p,o.S,c.h,o.J,t.k,o.j,o.n,o.B,o.i,o.g,t.j,o.e],styles:["ion-title[_ngcontent-%COMP%]{font-style:normal;font-weight:bolder;font-size:28px;line-height:30px;text-align:left;position:absolute;bottom:9px}.order-row[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;color:#fff}.order-row[_ngcontent-%COMP%]{text-align:center;padding-right:10px;padding-left:10px;font-weight:700;margin-top:10px;padding-bottom:10px;border-bottom:2px solid #7fffd4}.order-col[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:400}.order-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-size:17px;color:#fff;font-weight:700;padding-left:15px;padding-top:6px;border-bottom:2px solid #7fffd4}#order-value[_ngcontent-%COMP%]{text-align:end;padding-right:15px}.order-item[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-right:10px;padding-left:10px;font-weight:700;font-family:OpenSans-Light;margin-top:10px}#text-color[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:50px;font-size:20px;font-family:OpenSans-Light;font-weight:700;background-color:#6b00c2;margin-top:30px;margin-bottom:20px}.button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{border-radius:15px}ion-card[_ngcontent-%COMP%]{background:#1f2238;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}img[_ngcontent-%COMP%]{width:30px;width:95px;height:95px;padding:4px;border-radius:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#c3c3c3}.order-total[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-weight:700}.order-total[_ngcontent-%COMP%]{font-style:normal;font-size:17px;color:#fff;padding-left:15px;padding-top:6px}@media only screen and (max-width:360px){ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:20px;line-height:30px;color:#fff;margin-left:-10px;margin-bottom:3px}}"]}),y)}],_=((M=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:M}),M.\u0275inj=l.Gb({factory:function(e){return new(e||M)},imports:[[c.i.forChild(E)],c.i]}),M),L=r("tk/3"),R=((S=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:S}),S.\u0275inj=l.Gb({factory:function(e){return new(e||S)},providers:[s.a,d.a,u.a],imports:[[t.b,i.d,o.L,L.b,_]]}),S)}}]);