(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{oFOw:function(e,t,n){"use strict";n.r(t),n.d(t,"ViewOrderPageModule",(function(){return L}));var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),c=n("tyNb"),l=n("mrSG"),d=n("fXoL"),a=n("Wdxn"),b=n("6zcV"),s=n("Bl/W"),u=n("Nagw");function O(e,t){1&e&&(d.Pb(0,"ion-col",17),d.nc(1,"CANCELLED"),d.Ob())}function f(e,t){if(1&e&&(d.Pb(0,"ion-col",17),d.nc(1),d.Ob()),2&e){const e=d.Zb(2);d.zb(1),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function g(e,t){if(1&e&&(d.Pb(0,"ion-row",18),d.Pb(1,"ion-col",19),d.Kb(2,"img",20),d.Ob(),d.Pb(3,"ion-col",11),d.Pb(4,"p"),d.nc(5),d.Pb(6,"span"),d.nc(7),d.Ob(),d.Ob(),d.Pb(8,"div",21),d.Pb(9,"p"),d.Pb(10,"span"),d.Pb(11,"del"),d.nc(12),d.Ob(),d.Ob(),d.Pb(13,"span",22),d.nc(14),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(15,"ion-col"),d.Pb(16,"p",23),d.nc(17),d.Ob(),d.Ob(),d.Ob()),2&e){const e=t.$implicit;d.zb(2),d.cc("src",e.url,d.jc),d.zb(3),d.pc("",e.productName," "),d.zb(2),d.pc("(",e.brand,") "),d.zb(5),d.pc("\u20b9",e.oldPrice,""),d.zb(2),d.qc(" \u20b9 ",e.newPrice," \xd7 ",e.quantity," "),d.zb(3),d.pc("\u20b9 ",e.total,"")}}function p(e,t){if(1&e){const e=d.Qb();d.Nb(0),d.Pb(1,"ion-button",24),d.Xb("click",(function(){d.ic(e);const t=d.Zb(3);return t.review(t.viewOrder)})),d.nc(2,"RATE YOUR ORDER"),d.Ob(),d.Mb()}}function w(e,t){if(1&e&&(d.Nb(0),d.lc(1,p,3,0,"ng-container",16),d.Mb()),2&e){const e=d.Zb(2);d.zb(1),d.cc("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}function v(e,t){if(1&e){const e=d.Qb();d.Nb(0),d.Pb(1,"ion-button",24),d.Xb("click",(function(){d.ic(e);const t=d.Zb(3);return t.viewFeedback(t.viewOrder)})),d.nc(2,"View Feedback"),d.Ob(),d.Mb()}}function h(e,t){if(1&e&&(d.Nb(0),d.lc(1,v,3,0,"ng-container",16),d.Mb()),2&e){const e=d.Zb(2);d.zb(1),d.cc("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}function P(e,t){if(1&e&&(d.Pb(0,"ion-content",6),d.Pb(1,"ion-grid"),d.Pb(2,"ion-row",7),d.Pb(3,"ion-col",8),d.nc(4,"Order ID: "),d.Pb(5,"span",9),d.nc(6),d.Ob(),d.Ob(),d.Ob(),d.Pb(7,"ion-row",10),d.Pb(8,"ion-col",11),d.nc(9,"Order Date"),d.Ob(),d.Pb(10,"ion-col",12),d.nc(11),d.Ob(),d.Pb(12,"ion-col",11),d.nc(13,"Order Status"),d.Ob(),d.lc(14,O,2,0,"ion-col",13),d.lc(15,f,2,1,"ion-col",13),d.Pb(16,"ion-col",11),d.nc(17,"Item Count"),d.Ob(),d.Pb(18,"ion-col",12),d.nc(19),d.Ob(),d.Ob(),d.Ob(),d.Pb(20,"ion-row",14),d.Pb(21,"ion-col",8),d.nc(22,"ORDER ITEMS :"),d.Ob(),d.Ob(),d.Pb(23,"ion-card"),d.lc(24,g,18,7,"ion-row",15),d.Ob(),d.lc(25,w,2,1,"ng-container",16),d.lc(26,h,2,1,"ng-container",16),d.Ob()),2&e){const e=d.Zb();d.zb(6),d.oc(null==e.viewOrder?null:e.viewOrder.orderId),d.zb(5),d.oc(null==e.viewOrder?null:e.viewOrder.orderDate),d.zb(3),d.cc("ngIf","CANCELLED_COD"==(null==e.viewOrder?null:e.viewOrder.orderStatus)||"CANCELLED_ONLINE"==(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.zb(1),d.cc("ngIf","CANCELLED_COD"!==(null==e.viewOrder?null:e.viewOrder.orderStatus)&&"CANCELLED_ONLINE"!==(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.netQuantity),d.zb(5),d.cc("ngForOf",null==e.viewOrder?null:e.viewOrder.products),d.zb(1),d.cc("ngIf",1==e.viewRate),d.zb(1),d.cc("ngIf",0==e.viewRate)}}function m(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"ion-col",11),d.nc(2,"Status"),d.Ob(),d.Pb(3,"ion-col",12),d.nc(4),d.Ob(),d.Mb()),2&e){const e=d.Zb(2);d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function x(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"ion-col",11),d.nc(2,"Status"),d.Ob(),d.Pb(3,"ion-col",30),d.nc(4),d.Ob(),d.Mb()),2&e){const e=d.Zb(2);d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function C(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"ion-col",11),d.nc(2,"Status"),d.Ob(),d.Pb(3,"ion-col",17),d.nc(4),d.Ob(),d.Mb()),2&e){const e=d.Zb(2);d.zb(4),d.oc(null==e.viewOrder?null:e.viewOrder.orderStatus)}}function z(e,t){if(1&e){const e=d.Qb();d.Nb(0),d.Pb(1,"button",31),d.Xb("click",(function(){d.ic(e);const t=d.Zb(2);return t.cancelOrder(t.viewOrder)})),d.nc(2," Cancel Order"),d.Ob(),d.Mb()}}function M(e,t){if(1&e&&(d.Pb(0,"div",25),d.Pb(1,"ion-row",26),d.lc(2,m,5,1,"ng-container",16),d.lc(3,x,5,1,"ng-container",16),d.lc(4,C,5,1,"ng-container",16),d.Pb(5,"ion-col",11),d.nc(6,"Total Amount"),d.Ob(),d.Pb(7,"ion-col",12),d.nc(8),d.Ob(),d.Pb(9,"ion-col",11),d.nc(10,"Discount received from us"),d.Ob(),d.Pb(11,"ion-col",27),d.nc(12),d.Ob(),d.Pb(13,"ion-col",11),d.nc(14,"Net Amount"),d.Ob(),d.Pb(15,"ion-col",12),d.nc(16),d.Ob(),d.Pb(17,"ion-col",11),d.nc(18,"Discount Applied"),d.Ob(),d.Pb(19,"ion-col",17),d.nc(20),d.Ob(),d.Pb(21,"ion-col",28),d.nc(22,"Final Amount"),d.Ob(),d.Pb(23,"ion-col",29),d.nc(24),d.Ob(),d.Ob(),d.lc(25,z,3,0,"ng-container",16),d.Ob()),2&e){const e=d.Zb();d.zb(2),d.cc("ngIf","CONFIRMED"===(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.zb(1),d.cc("ngIf","CANCELLED"===(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.zb(1),d.cc("ngIf","COMPLETED"===(null==e.viewOrder?null:e.viewOrder.orderStatus)),d.zb(4),d.pc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.oldTotal,""),d.zb(4),d.pc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.discountReceived,""),d.zb(4),d.pc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.netAmount,""),d.zb(4),d.pc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.discountApplied,""),d.zb(4),d.pc("\u20b9 ",null==e.viewOrder?null:e.viewOrder.finalTotal,""),d.zb(1),d.cc("ngIf","ORDERED"===(null==e.viewOrder?null:e.viewOrder.orderStatus))}}const S=[{path:"",component:(()=>{class e{constructor(e,t,n,o,i,r,c){this.common=e,this.orderApi=t,this.api=n,this.Activatedroute=o,this.cartapi=i,this.loadingController=r,this.router=c,this.viewRate=!0,this.totalvalue=0,this.isOrderLoaded=!1}openSearchModal(){this.common.openModal()}ngOnInit(){return Object(l.a)(this,void 0,void 0,(function*(){this.quantity=localStorage.getItem("grocericaQuantity")}))}particularProductAccess(){"COMPLETED"===this.viewOrder.orderStatus&&this.getReview(this.viewOrder.orderId);for(let e=0;e<this.viewOrder.products.length;e++)this.viewOrder.products[e].total=this.viewOrder.products[e].newPrice*this.viewOrder.products[e].quantity,this.totalvalue=this.viewOrder.products[e].total+this.totalvalue}cancelOrder(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Please wait..."});t.present(),this.orderApi.cancelOrder(e).subscribe(e=>Object(l.a)(this,void 0,void 0,(function*(){t.dismiss(),localStorage.setItem("grocericaViewCart",JSON.stringify(e)),this.common.presentToast("Your order is successfully cancelled"),this.router.navigate(["/home"])})),e=>{t.dismiss(),this.common.presentToast("Something Went Wrong")})}))}review(e){localStorage.setItem("reviewProduct",JSON.stringify(e)),this.router.navigate(["/rating"])}getReview(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({message:"Please wait..."});t.present(),this.api.getFeedback(e).subscribe(e=>{t.dismiss(),this.feedback=e,this.viewRate=!1})}))}viewFeedback(e){const t=Object.assign(this.feedback,e);localStorage.setItem("viewFeedback",JSON.stringify(t)),this.router.navigate(["/feedback"])}ionViewWillEnter(){return Object(l.a)(this,void 0,void 0,(function*(){this.Activatedroute.paramMap.subscribe(e=>{this.id=e.get("id")});let e=this.orderApi.particularOrder(this.id);const t=yield this.loadingController.create({message:"Please wait..."});t.present(),e.subscribe(e=>{t.dismiss(),this.isOrderLoaded=!0,this.viewOrder=e,this.viewOrder.discountReceived=this.viewOrder.oldTotal-(this.viewOrder.finalTotal+this.viewOrder.discountApplied),this.viewOrder.netAmount=this.viewOrder.oldTotal-this.viewOrder.discountReceived,this.viewOrder&&this.particularProductAccess()},e=>{t.dismiss()})}))}calculateDiscountReceived(e){return e.oldTotal-(e.finalTotal+e.discountApplied)}}return e.\u0275fac=function(t){return new(t||e)(d.Jb(a.a),d.Jb(b.a),d.Jb(s.a),d.Jb(c.a),d.Jb(u.a),d.Jb(r.N),d.Jb(c.g))},e.\u0275cmp=d.Db({type:e,selectors:[["app-view-order"]],decls:8,vars:2,consts:[["color","primary"],["slot","start"],["name","arrow-back","routerLink","/all-order"],[2,"font-size","20px"],["class","appBackground",4,"ngIf"],["style","background-color: rgb(6, 15, 66);",4,"ngIf"],[1,"appBackground"],[1,"order-row"],[1,"order-col"],[2,"font-weight","bold"],[1,"order-title"],["size","6"],["size","6","id","order-value"],["size","6","id","order-value","style","color: #1FCA1C;",4,"ngIf"],[1,"order-item"],["style","border-bottom: 1px solid aquamarine;",4,"ngFor","ngForOf"],[4,"ngIf"],["size","6","id","order-value",2,"color","#1FCA1C"],[2,"border-bottom","1px solid aquamarine"],["size","3"],["alt","grocrica",3,"src"],[2,"margin-top","25px"],[2,"margin-left","15px"],[2,"text-align","end","padding-right","10px"],[2,"margin-right","560px",3,"click"],[2,"background-color","rgb(6, 15, 66)"],["id","text-color",1,"order-total"],["size","6","id","order-value",2,"color","#cabe1c"],["size","6",2,"font-weight","bold"],["size","6","id","order-value",2,"font-weight","bold"],["size","6","id","order-value",2,"color","red"],[1,"button","des-button",3,"click"]],template:function(e,t){1&e&&(d.Pb(0,"ion-header"),d.Pb(1,"ion-toolbar",0),d.Pb(2,"ion-buttons",1),d.Kb(3,"ion-icon",2),d.Ob(),d.Pb(4,"ion-title",3),d.nc(5,"VIEW ORDER"),d.Ob(),d.Ob(),d.Ob(),d.lc(6,P,27,8,"ion-content",4),d.lc(7,M,26,9,"div",5)),2&e&&(d.zb(6),d.cc("ngIf",t.isOrderLoaded),d.zb(1),d.cc("ngIf",t.isOrderLoaded))},directives:[r.o,r.K,r.f,r.p,r.S,c.h,r.J,o.k,r.j,r.n,r.B,r.i,r.g,o.j,r.e],styles:["ion-title[_ngcontent-%COMP%]{font-style:normal;font-weight:bolder;font-size:28px;line-height:30px;text-align:left;position:absolute;bottom:9px}.order-row[_ngcontent-%COMP%], ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;color:#fff}.order-row[_ngcontent-%COMP%]{text-align:center;padding-right:10px;padding-left:10px;font-weight:700;margin-top:10px;padding-bottom:10px;border-bottom:2px solid #7fffd4}.order-col[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:400}.order-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-size:17px;color:#fff;font-weight:700;padding-left:15px;padding-top:6px;border-bottom:2px solid #7fffd4}#order-value[_ngcontent-%COMP%]{text-align:end;padding-right:15px}.order-item[_ngcontent-%COMP%]{color:#fff;text-align:center;padding-right:10px;padding-left:10px;font-weight:700;font-family:OpenSans-Light;margin-top:10px}#text-color[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{color:#fff}.button[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:50px;font-size:20px;font-family:OpenSans-Light;font-weight:700;background-color:#6b00c2;margin-top:30px;margin-bottom:20px}.button[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{border-radius:15px}ion-card[_ngcontent-%COMP%]{background:#1f2238;box-shadow:1px 5px 14px 0 rgba(0,1,0,.8)}img[_ngcontent-%COMP%]{width:30px;width:95px;height:95px;padding:4px;border-radius:15px}p[_ngcontent-%COMP%]{font-size:16px;color:#c3c3c3}.order-total[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-weight:700}.order-total[_ngcontent-%COMP%]{font-style:normal;font-size:17px;color:#fff;padding-left:15px;padding-top:6px}@media only screen and (max-width:360px){ion-title[_ngcontent-%COMP%]{font-family:OpenSans-Light;font-style:normal;font-weight:bolder;font-size:20px;line-height:30px;color:#fff;margin-left:-10px;margin-bottom:3px}}"]}),e})()}];let y=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(S)],c.i]}),e})();var E=n("tk/3");let L=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},providers:[b.a,a.a,u.a],imports:[[o.b,i.d,r.L,E.b,y]]}),e})()}}]);